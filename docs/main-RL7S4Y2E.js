import{a as Vo}from"./chunk-W5FNRE7M.js";import{a as Mo,b as Lo}from"./chunk-OWOHPJIH.js";import{$ as Eo,Aa as Po,B as Gr,Ba as Co,C as Kr,E as Ue,Ea as ko,F as Dn,Fa as Do,Ga as No,H as se,Ha as Oo,Ia as xo,Ja as Yr,K as yo,L as vo,M as Re,O as Io,P as Nn,Q as On,T as Ze,W as Pe,Y as oe,Z as ae,_ as xn,a as Br,aa as wo,b as $r,ba as Hr,c as T,ca as Qr,d as Kt,da as _t,f as Rn,g as fo,h as po,i as qr,ia as To,j as zr,ja as Ce,k as jr,ka as Ao,m as Wr,na as he,oa as de,pa as bo,q as Pn,qa as So,r as Cn,ra as Ro,s as mt,sa as Jr,t as mo,u as Se,v as te,w as gt,x as go,y as kn,z as _o}from"./chunk-OOILR5MP.js";var Fo=()=>{};var Bo=function(r){let e=[],n=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Tu=function(r){let e=[],n=0,i=0;for(;n<r.length;){let o=r[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){let u=r[n++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){let u=r[n++],d=r[n++],v=r[n++],E=((o&7)<<18|(u&63)<<12|(d&63)<<6|v&63)-65536;e[i++]=String.fromCharCode(55296+(E>>10)),e[i++]=String.fromCharCode(56320+(E&1023))}else{let u=r[n++],d=r[n++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},Vn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){let u=r[o],d=o+1<r.length,v=d?r[o+1]:0,E=o+2<r.length,w=E?r[o+2]:0,b=u>>2,R=(u&3)<<4|v>>4,S=(v&15)<<2|w>>6,O=w&63;E||(O=64,d||(S=64)),i.push(n[b],n[R],n[S],n[O])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Bo(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Tu(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){let u=n[r.charAt(o++)],v=o<r.length?n[r.charAt(o)]:0;++o;let w=o<r.length?n[r.charAt(o)]:64;++o;let R=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||v==null||w==null||R==null)throw new Zr;let S=u<<2|v>>4;if(i.push(S),w!==64){let O=v<<4&240|w>>2;if(i.push(O),R!==64){let k=w<<6&192|R;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}},Zr=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Au=function(r){let e=Bo(r);return Vn.encodeByteArray(e,!0)},Ht=function(r){return Au(r).replace(/\./g,"")},Mn=function(r){try{return Vn.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ti(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var bu=()=>ti().__FIREBASE_DEFAULTS__,Su=()=>{if(typeof process>"u"||typeof process.env>"u")return;let r=process.env.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Ru=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=r&&Mn(r[1]);return e&&JSON.parse(e)},ni=()=>{try{return Fo()||bu()||Su()||Ru()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},$o=r=>{var e,n;return(n=(e=ni())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},Ln=r=>{let e=$o(r);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},ri=()=>{var r;return(r=ni())===null||r===void 0?void 0:r.config},qo=r=>{var e;return(e=ni())===null||e===void 0?void 0:e[`_${r}`]};var et=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function zo(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let d=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ht(JSON.stringify(n)),Ht(JSON.stringify(d)),""].join(".")}function ce(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jo(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ce())}function Wo(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Go(){let r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Ko(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qt(){try{return typeof indexedDB=="object"}catch{return!1}}function Ho(){return new Promise((r,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}var Pu="FirebaseError",ne=class r extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Pu,Object.setPrototypeOf(this,r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fe.prototype.create)}},fe=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?Cu(u,i):"Error",v=`${this.serviceName}: ${d} (${o}).`;return new ne(o,v,i)}};function Cu(r,e){return r.replace(ku,(n,i)=>{let o=e[i];return o!=null?String(o):`<${i}?>`})}var ku=/\{\$([^}]+)}/g;function tt(r,e){if(r===e)return!0;let n=Object.keys(r),i=Object.keys(e);for(let o of n){if(!i.includes(o))return!1;let u=r[o],d=e[o];if(Uo(u)&&Uo(d)){if(!tt(u,d))return!1}else if(u!==d)return!1}for(let o of i)if(!n.includes(o))return!1;return!0}function Uo(r){return r!==null&&typeof r=="object"}function ii(r){let e=[];for(let[n,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Qo(r,e){let n=new ei(r,e);return n.subscribe.bind(n)}var ei=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Du(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=Xr),o.error===void 0&&(o.error=Xr),o.complete===void 0&&(o.complete=Xr);let u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Du(r,e){if(typeof r!="object"||r===null)return!1;for(let n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Xr(){}var Gf=4*60*60*1e3;function _e(r){return r&&r._delegate?r._delegate:r}var $=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var nt="[DEFAULT]";var si=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new et;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),o=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ou(e))try{this.getOrInitializeService({instanceIdentifier:nt})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let o=this.normalizeInstanceIdentifier(n);try{let u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(e=nt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return T(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=nt){return this.instances.has(e)}getOptions(e=nt){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[u,d]of this.instancesDeferred.entries()){let v=this.normalizeInstanceIdentifier(u);i===v&&d.resolve(o)}return o}onInit(e,n){var i;let o=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;u.add(e),this.onInitCallbacks.set(o,u);let d=this.instances.get(o);return d&&e(d,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Nu(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=nt){return this.component?this.component.multipleInstances?e:nt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Nu(r){return r===nt?void 0:r}function Ou(r){return r.instantiationMode==="EAGER"}var Fn=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new si(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var xu=[],D=function(r){return r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT",r}(D||{}),Vu={debug:D.DEBUG,verbose:D.VERBOSE,info:D.INFO,warn:D.WARN,error:D.ERROR,silent:D.SILENT},Mu=D.INFO,Lu={[D.DEBUG]:"log",[D.VERBOSE]:"log",[D.INFO]:"info",[D.WARN]:"warn",[D.ERROR]:"error"},Fu=(r,e,...n)=>{if(e<r.logLevel)return;let i=new Date().toISOString(),o=Lu[e];if(o)console[o](`[${i}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ye=class{constructor(e){this.name=e,this._logLevel=Mu,this._logHandler=Fu,this._userLogHandler=null,xu.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in D))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Vu[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,D.DEBUG,...e),this._logHandler(this,D.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,D.VERBOSE,...e),this._logHandler(this,D.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,D.INFO,...e),this._logHandler(this,D.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,D.WARN,...e),this._logHandler(this,D.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,D.ERROR,...e),this._logHandler(this,D.ERROR,...e)}};var Uu=(r,e)=>e.some(n=>r instanceof n),Jo,Yo;function Bu(){return Jo||(Jo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $u(){return Yo||(Yo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Xo=new WeakMap,ai=new WeakMap,Zo=new WeakMap,oi=new WeakMap,ui=new WeakMap;function qu(r){let e=new Promise((n,i)=>{let o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(ve(r.result)),o()},d=()=>{i(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&Xo.set(n,r)}).catch(()=>{}),ui.set(e,r),e}function zu(r){if(ai.has(r))return;let e=new Promise((n,i)=>{let o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});ai.set(r,e)}var ci={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return ai.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Zo.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ve(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function ea(r){ci=r(ci)}function ju(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=r.call(Un(this),e,...n);return Zo.set(i,e.sort?e.sort():[e]),ve(i)}:$u().includes(r)?function(...e){return r.apply(Un(this),e),ve(Xo.get(this))}:function(...e){return ve(r.apply(Un(this),e))}}function Wu(r){return typeof r=="function"?ju(r):(r instanceof IDBTransaction&&zu(r),Uu(r,Bu())?new Proxy(r,ci):r)}function ve(r){if(r instanceof IDBRequest)return qu(r);if(oi.has(r))return oi.get(r);let e=Wu(r);return e!==r&&(oi.set(r,e),ui.set(e,r)),e}var Un=r=>ui.get(r);function na(r,e,{blocked:n,upgrade:i,blocking:o,terminated:u}={}){let d=indexedDB.open(r,e),v=ve(d);return i&&d.addEventListener("upgradeneeded",E=>{i(ve(d.result),E.oldVersion,E.newVersion,ve(d.transaction),E)}),n&&d.addEventListener("blocked",E=>n(E.oldVersion,E.newVersion,E)),v.then(E=>{u&&E.addEventListener("close",()=>u()),o&&E.addEventListener("versionchange",w=>o(w.oldVersion,w.newVersion,w))}).catch(()=>{}),v}var Gu=["get","getKey","getAll","getAllKeys","count"],Ku=["put","add","delete","clear"],li=new Map;function ta(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(li.get(e))return li.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,o=Ku.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||Gu.includes(n)))return;let u=function(d,...v){return T(this,null,function*(){let E=this.transaction(d,o?"readwrite":"readonly"),w=E.store;return i&&(w=w.index(v.shift())),(yield Promise.all([w[n](...v),o&&E.done]))[0]})};return li.set(e,u),u}ea(r=>$r(Br({},r),{get:(e,n,i)=>ta(e,n)||r.get(e,n,i),has:(e,n)=>!!ta(e,n)||r.has(e,n)}));var di=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Hu(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function Hu(r){let e=r.getComponent();return e?.type==="VERSION"}var fi="@firebase/app",ra="0.11.5";var ke=new ye("@firebase/app"),Qu="@firebase/app-compat",Ju="@firebase/analytics-compat",Yu="@firebase/analytics",Xu="@firebase/app-check-compat",Zu="@firebase/app-check",el="@firebase/auth",tl="@firebase/auth-compat",nl="@firebase/database",rl="@firebase/data-connect",il="@firebase/database-compat",sl="@firebase/functions",ol="@firebase/functions-compat",al="@firebase/installations",cl="@firebase/installations-compat",ul="@firebase/messaging",ll="@firebase/messaging-compat",hl="@firebase/performance",dl="@firebase/performance-compat",fl="@firebase/remote-config",pl="@firebase/remote-config-compat",ml="@firebase/storage",gl="@firebase/storage-compat",_l="@firebase/firestore",yl="@firebase/vertexai",vl="@firebase/firestore-compat",Il="firebase",El="11.6.1";var pi="[DEFAULT]",wl={[fi]:"fire-core",[Qu]:"fire-core-compat",[Yu]:"fire-analytics",[Ju]:"fire-analytics-compat",[Zu]:"fire-app-check",[Xu]:"fire-app-check-compat",[el]:"fire-auth",[tl]:"fire-auth-compat",[nl]:"fire-rtdb",[rl]:"fire-data-connect",[il]:"fire-rtdb-compat",[sl]:"fire-fn",[ol]:"fire-fn-compat",[al]:"fire-iid",[cl]:"fire-iid-compat",[ul]:"fire-fcm",[ll]:"fire-fcm-compat",[hl]:"fire-perf",[dl]:"fire-perf-compat",[fl]:"fire-rc",[pl]:"fire-rc-compat",[ml]:"fire-gcs",[gl]:"fire-gcs-compat",[_l]:"fire-fst",[vl]:"fire-fst-compat",[yl]:"fire-vertex","fire-js":"fire-js",[Il]:"fire-js-all"};var Jt=new Map,Tl=new Map,mi=new Map;function ia(r,e){try{r.container.addComponent(e)}catch(n){ke.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function re(r){let e=r.name;if(mi.has(e))return ke.debug(`There were multiple attempts to register component ${e}.`),!1;mi.set(e,r);for(let n of Jt.values())ia(n,r);for(let n of Tl.values())ia(n,r);return!0}function yt(r,e){let n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function pe(r){return r==null?!1:r.settings!==void 0}var Al={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Be=new fe("app","Firebase",Al);var gi=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new $("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Be.create("app-deleted",{appName:this._name})}};var vt=El;function vi(r,e={}){let n=r;typeof e!="object"&&(e={name:e});let i=Object.assign({name:pi,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Be.create("bad-app-name",{appName:String(o)});if(n||(n=ri()),!n)throw Be.create("no-options");let u=Jt.get(o);if(u){if(tt(n,u.options)&&tt(i,u.config))return u;throw Be.create("duplicate-app",{appName:o})}let d=new Fn(o);for(let E of mi.values())d.addComponent(E);let v=new gi(n,i,d);return Jt.set(o,v),v}function $e(r=pi){let e=Jt.get(r);if(!e&&r===pi&&ri())return vi();if(!e)throw Be.create("no-app",{appName:r});return e}function Bn(){return Array.from(Jt.values())}function V(r,e,n){var i;let o=(i=wl[r])!==null&&i!==void 0?i:r;n&&(o+=`-${n}`);let u=o.match(/\s|\//),d=e.match(/\s|\//);if(u||d){let v=[`Unable to register library "${o}" with version "${e}":`];u&&v.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&d&&v.push("and"),d&&v.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ke.warn(v.join(" "));return}re(new $(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}var bl="firebase-heartbeat-database",Sl=1,Yt="firebase-heartbeat-store",hi=null;function ca(){return hi||(hi=na(bl,Sl,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Yt)}catch(n){console.warn(n)}}}}).catch(r=>{throw Be.create("idb-open",{originalErrorMessage:r.message})})),hi}function Rl(r){return T(this,null,function*(){try{let n=(yield ca()).transaction(Yt),i=yield n.objectStore(Yt).get(ua(r));return yield n.done,i}catch(e){if(e instanceof ne)ke.warn(e.message);else{let n=Be.create("idb-get",{originalErrorMessage:e?.message});ke.warn(n.message)}}})}function sa(r,e){return T(this,null,function*(){try{let i=(yield ca()).transaction(Yt,"readwrite");yield i.objectStore(Yt).put(e,ua(r)),yield i.done}catch(n){if(n instanceof ne)ke.warn(n.message);else{let i=Be.create("idb-set",{originalErrorMessage:n?.message});ke.warn(i.message)}}})}function ua(r){return`${r.name}!${r.options.appId}`}var Pl=1024,Cl=30,_i=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new yi(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return T(this,null,function*(){var e,n;try{let o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=oa();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Cl){let d=Dl(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ke.warn(i)}})}getHeartbeatsHeader(){return T(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=oa(),{heartbeatsToSend:i,unsentEntries:o}=kl(this._heartbeatsCache.heartbeats),u=Ht(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ke.warn(n),""}})}};function oa(){return new Date().toISOString().substring(0,10)}function kl(r,e=Pl){let n=[],i=r.slice();for(let o of r){let u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),aa(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),aa(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var yi=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return T(this,null,function*(){return Qt()?Ho().then(()=>!0).catch(()=>!1):!1})}read(){return T(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Rl(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return T(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let o=yield this.read();return sa(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return T(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let o=yield this.read();return sa(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return})}};function aa(r){return Ht(JSON.stringify({version:2,heartbeats:r})).length}function Dl(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let i=1;i<r.length;i++)r[i].date<n&&(n=r[i].date,e=i);return e}function Nl(r){re(new $("platform-logger",e=>new di(e),"PRIVATE")),re(new $("heartbeat",e=>new _i(e),"PRIVATE")),V(fi,ra,r),V(fi,ra,"esm2017"),V("fire-js","")}Nl("");var Ol="firebase",xl="11.6.1";V(Ol,xl,"app");function Ii(r){r===void 0&&(_o(Ii),r=Se(Ue));let e=r.get(Dn);return n=>new Kt(i=>{let o=e.add(),u=!1;function d(){u||(o(),u=!0)}let v=n.subscribe({next:E=>{i.next(E),d()},complete:()=>{i.complete(),d()},error:E=>{i.error(E),d()}});return v.add(()=>{i.unsubscribe(),d()}),v})}var De=new So("ANGULARFIRE2_VERSION");function Et(r,e,n){if(e){if(e.length===1)return e[0];let u=e.filter(d=>d.app===n);if(u.length===1)return u[0]}return n.container.getProvider(r).getImmediate({optional:!0})}var qe=(r,e)=>{let n=e?[e]:Bn(),i=[];return n.forEach(o=>{o.container.getProvider(r).instances.forEach(d=>{i.includes(d)||i.push(d)})}),i},It=function(r){return r[r.SILENT=0]="SILENT",r[r.WARN=1]="WARN",r[r.VERBOSE=2]="VERBOSE",r}(It||{}),la=Jr()&&typeof Zone<"u"?It.WARN:It.SILENT;var $n=class{zone;delegate;constructor(e,n=po){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let o=this.zone,u=function(d){o?o.runGuarded(()=>{e.apply(this,[d])}):e.apply(this,[d])};return this.delegate.schedule(u,n,i)}},Ne=(()=>{class r{outsideAngular;insideAngular;constructor(){let n=Se(se);this.outsideAngular=n.runOutsideAngular(()=>new $n(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new $n(typeof Zone>"u"?void 0:Zone.current,fo))}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Pn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),ha=!1;function Vl(r,e){!ha&&(la>It.SILENT||Jr())&&(ha=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),la>=e&&console.warn(`Firebase API called outside injection context: ${r.name}`)}function Ml(r){let e=Se(se,{optional:!0});return e?e.runOutsideAngular(()=>r()):r()}function rt(r){let e=Se(se,{optional:!0});return e?e.run(()=>r()):r()}var Ll=(r,e,n)=>(...i)=>(e&&setTimeout(e,0),kn(n,()=>rt(()=>r.apply(void 0,i)))),ze=(r,e,n)=>(n||=e?It.WARN:It.VERBOSE,function(){let i,o=arguments,u,d,v;try{u=Se(Ne),d=Se(Dn),v=Se(go)}catch{return Vl(r,n),r.apply(this,o)}for(let w=0;w<arguments.length;w++)typeof o[w]=="function"&&(e&&(i||=rt(()=>d.add())),o[w]=Ll(o[w],i,v));let E=Ml(()=>r.apply(this,o));return e?E instanceof Kt?E.pipe(jr(u.outsideAngular),zr(u.insideAngular),Ii(v)):E instanceof Promise?rt(()=>new Promise((w,b)=>{d.run(()=>E).then(R=>kn(v,()=>rt(()=>w(R))),R=>kn(v,()=>rt(()=>b(R))))})):typeof E=="function"&&i?function(){return setTimeout(i,0),E.apply(this,arguments)}:rt(()=>E):E instanceof Kt?E.pipe(jr(u.outsideAngular),zr(u.insideAngular)):rt(()=>E)});var Oe=class{constructor(e){return e}},it=class{constructor(){return Bn()}};function Fl(r){return r&&r.length===1?r[0]:new Oe($e())}var Ei=new mt("angularfire2._apps"),Ul={provide:Oe,useFactory:Fl,deps:[[new te,Ei]]},Bl={provide:it,deps:[[new te,Ei]]};function $l(r){return(e,n)=>{let i=n.get(yo);V("angularfire",De.full,"core"),V("angularfire",De.full,"app"),V("angular",Ro.full,i.toString());let o=e.runOutsideAngular(()=>r(n));return new Oe(o)}}function da(r,...e){return gt([Ul,Bl,{provide:Ei,useFactory:$l(r),multi:!0,deps:[se,Ue,Ne,...e]}])}var fa=ze(vi,!0);var ql=new Map,zl={activated:!1,tokenObservers:[]},jl={initialized:!1,enabled:!1};function me(r){return ql.get(r)||Object.assign({},zl)}function _a(){return jl}var Wl="https://content-firebaseappcheck.googleapis.com/v1";var Gl="exchangeDebugToken",pa={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},nm=24*60*60*1e3;var Ai=class{constructor(e,n,i,o,u){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return T(this,null,function*(){this.stop();try{this.pending=new et,this.pending.promise.catch(n=>{}),yield Kl(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new et,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function Kl(r){return new Promise(e=>{setTimeout(e,r)})}var Hl={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},je=new fe("appCheck","AppCheck",Hl);function ya(r){if(!me(r).activated)throw je.create("use-before-activation",{appName:r.name})}function va(i,o){return T(this,arguments,function*({url:r,body:e},n){let u={"Content-Type":"application/json"},d=n.getImmediate({optional:!0});if(d){let O=yield d.getHeartbeatsHeader();O&&(u["X-Firebase-Client"]=O)}let v={method:"POST",body:JSON.stringify(e),headers:u},E;try{E=yield fetch(r,v)}catch(O){throw je.create("fetch-network-error",{originalErrorMessage:O?.message})}if(E.status!==200)throw je.create("fetch-status-error",{httpStatus:E.status});let w;try{w=yield E.json()}catch(O){throw je.create("fetch-parse-error",{originalErrorMessage:O?.message})}let b=w.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw je.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});let R=Number(b[1])*1e3,S=Date.now();return{token:w.token,expireTimeMillis:S+R,issuedAtTimeMillis:S}})}function Ia(r,e){let{projectId:n,appId:i,apiKey:o}=r.options;return{url:`${Wl}/projects/${n}/apps/${i}:${Gl}?key=${o}`,body:{debug_token:e}}}var Ql="firebase-app-check-database",Jl=1,bi="firebase-app-check-store";var qn=null;function Yl(){return qn||(qn=new Promise((r,e)=>{try{let n=indexedDB.open(Ql,Jl);n.onsuccess=i=>{r(i.target.result)},n.onerror=i=>{var o;e(je.create("storage-open",{originalErrorMessage:(o=i.target.error)===null||o===void 0?void 0:o.message}))},n.onupgradeneeded=i=>{let o=i.target.result;switch(i.oldVersion){case 0:o.createObjectStore(bi,{keyPath:"compositeKey"})}}}catch(n){e(je.create("storage-open",{originalErrorMessage:n?.message}))}}),qn)}function Xl(r,e){return Zl(eh(r),e)}function Zl(r,e){return T(this,null,function*(){let i=(yield Yl()).transaction(bi,"readwrite"),u=i.objectStore(bi).put({compositeKey:r,value:e});return new Promise((d,v)=>{u.onsuccess=E=>{d()},i.onerror=E=>{var w;v(je.create("storage-set",{originalErrorMessage:(w=E.target.error)===null||w===void 0?void 0:w.message}))}})})}function eh(r){return`${r.options.appId}-${r.name}`}var Zt=new ye("@firebase/app-check");function wi(r,e){return Qt()?Xl(r,e).catch(n=>{Zt.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Ea(){return _a().enabled}function wa(){return T(this,null,function*(){let r=_a();if(r.enabled&&r.token)return r.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var th={error:"UNKNOWN_ERROR"};function nh(r){return Vn.encodeString(JSON.stringify(r),!1)}function Si(r,e=!1,n=!1){return T(this,null,function*(){let i=r.app;ya(i);let o=me(i),u=o.token,d;if(u&&!en(u)&&(o.token=void 0,u=void 0),!u){let w=yield o.cachedTokenPromise;w&&(en(w)?u=w:yield wi(i,void 0))}if(!e&&u&&en(u))return{token:u.token};let v=!1;if(Ea())try{o.exchangeTokenPromise||(o.exchangeTokenPromise=va(Ia(i,yield wa()),r.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),v=!0);let w=yield o.exchangeTokenPromise;return yield wi(i,w),o.token=w,{token:w.token}}catch(w){return w.code==="appCheck/throttled"||w.code==="appCheck/initial-throttle"?Zt.warn(w.message):n&&Zt.error(w),Ti(w)}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),v=!0),u=yield me(i).exchangeTokenPromise}catch(w){w.code==="appCheck/throttled"||w.code==="appCheck/initial-throttle"?Zt.warn(w.message):n&&Zt.error(w),d=w}let E;return u?d?en(u)?E={token:u.token,internalError:d}:E=Ti(d):(E={token:u.token},o.token=u,yield wi(i,u)):E=Ti(d),v&&oh(i,E),E})}function rh(r){return T(this,null,function*(){let e=r.app;ya(e);let{provider:n}=me(e);if(Ea()){let i=yield wa(),{token:o}=yield va(Ia(e,i),r.heartbeatServiceProvider);return{token:o}}else{let{token:i}=yield n.getToken();return{token:i}}})}function ih(r,e,n,i){let{app:o}=r,u=me(o),d={next:n,error:i,type:e};if(u.tokenObservers=[...u.tokenObservers,d],u.token&&en(u.token)){let v=u.token;Promise.resolve().then(()=>{n({token:v.token}),ma(r)}).catch(()=>{})}u.cachedTokenPromise.then(()=>ma(r))}function Ta(r,e){let n=me(r),i=n.tokenObservers.filter(o=>o.next!==e);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function ma(r){let{app:e}=r,n=me(e),i=n.tokenRefresher;i||(i=sh(r),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function sh(r){let{app:e}=r;return new Ai(()=>T(this,null,function*(){let n=me(e),i;if(n.token?i=yield Si(r,!0):i=yield Si(r),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=me(e);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,o=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,o),Math.max(0,i-Date.now())}else return 0},pa.RETRIAL_MIN_WAIT,pa.RETRIAL_MAX_WAIT)}function oh(r,e){let n=me(r).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function en(r){return r.expireTimeMillis-Date.now()>0}function Ti(r){return{token:nh(th),error:r}}var Ri=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=me(this.app);for(let n of e)Ta(this.app,n.next);return Promise.resolve()}};function ah(r,e){return new Ri(r,e)}function ch(r){return{getToken:e=>Si(r,e),getLimitedUseToken:()=>rh(r),addTokenListener:e=>ih(r,"INTERNAL",e),removeTokenListener:e=>Ta(r.app,e)}}var uh="@firebase/app-check",lh="0.8.13";var hh="app-check",ga="app-check-internal";function dh(){re(new $(hh,r=>{let e=r.getProvider("app").getImmediate(),n=r.getProvider("heartbeat");return ah(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,e,n)=>{r.getProvider(ga).initialize()})),re(new $(ga,r=>{let e=r.getProvider("app-check").getImmediate();return ch(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),V(uh,lh)}dh();var fh="app-check";var wt=class{constructor(){return qe(fh)}};var ph=["localhost","0.0.0.0","127.0.0.1"],mm=typeof window<"u"&&ph.includes(window.location.hostname);function Da(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Na=Da,Oa=new fe("auth","Firebase",Da());var Gn=new ye("@firebase/auth");function gh(r,...e){Gn.logLevel<=D.WARN&&Gn.warn(`Auth (${vt}): ${r}`,...e)}function jn(r,...e){Gn.logLevel<=D.ERROR&&Gn.error(`Auth (${vt}): ${r}`,...e)}function Aa(r,...e){throw Ui(r,...e)}function Fi(r,...e){return Ui(r,...e)}function xa(r,e,n){let i=Object.assign(Object.assign({},Na()),{[e]:n});return new fe("auth","Firebase",i).create(e,{appName:r.name})}function Wn(r){return xa(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ui(r,...e){if(typeof r!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(n,...i)}return Oa.create(r,...e)}function N(r,e,...n){if(!r)throw Ui(e,...n)}function tn(r){let e="INTERNAL ASSERTION FAILED: "+r;throw jn(e),new Error(e)}function Kn(r,e){r||tn(e)}function _h(){return ba()==="http:"||ba()==="https:"}function ba(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}function yh(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_h()||Go()||"connection"in navigator)?navigator.onLine:!0}function vh(){if(typeof navigator>"u")return null;let r=navigator;return r.languages&&r.languages[0]||r.language||null}var at=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Kn(n>e,"Short delay should be less than long delay!"),this.isMobile=jo()||Ko()}get(){return yh()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ih(r,e){Kn(r.emulator,"Emulator should always be set here");let{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Hn=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Eh={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var wh=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Th=new at(3e4,6e4);function Va(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}function Zn(u,d,v,E){return T(this,arguments,function*(r,e,n,i,o={}){return Ma(r,o,()=>T(this,null,function*(){let w={},b={};i&&(e==="GET"?b=i:w={body:JSON.stringify(i)});let R=ii(Object.assign({key:r.config.apiKey},b)).slice(1),S=yield r._getAdditionalHeaders();S["Content-Type"]="application/json",r.languageCode&&(S["X-Firebase-Locale"]=r.languageCode);let O=Object.assign({method:e,headers:S},w);return Wo()||(O.referrerPolicy="no-referrer"),Hn.fetch()(yield La(r,r.config.apiHost,n,R),O)}))})}function Ma(r,e,n){return T(this,null,function*(){r._canInitEmulator=!1;let i=Object.assign(Object.assign({},Eh),e);try{let o=new ki(r),u=yield Promise.race([n(),o.promise]);o.clearNetworkTimeout();let d=yield u.json();if("needConfirmation"in d)throw zn(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{let v=u.ok?d.errorMessage:d.error.message,[E,w]=v.split(" : ");if(E==="FEDERATED_USER_ID_ALREADY_LINKED")throw zn(r,"credential-already-in-use",d);if(E==="EMAIL_EXISTS")throw zn(r,"email-already-in-use",d);if(E==="USER_DISABLED")throw zn(r,"user-disabled",d);let b=i[E]||E.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw xa(r,b,w);Aa(r,b)}}catch(o){if(o instanceof ne)throw o;Aa(r,"network-request-failed",{message:String(o)})}})}function La(r,e,n,i){return T(this,null,function*(){let o=`${e}${n}?${i}`,u=r,d=u.config.emulator?Ih(r.config,o):`${r.config.apiScheme}://${o}`;return wh.includes(n)&&(yield u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d})}var ki=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Fi(this.auth,"network-request-failed")),Th.get())})}};function zn(r,e,n){let i={appName:r.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let o=Fi(r,e,i);return o.customData._tokenResponse=n,o}function Ah(r,e){return T(this,null,function*(){return Zn(r,"POST","/v1/accounts:delete",e)})}function Qn(r,e){return T(this,null,function*(){return Zn(r,"POST","/v1/accounts:lookup",e)})}function nn(r){if(r)try{let e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Bi(r,e=!1){return T(this,null,function*(){let n=_e(r),i=yield n.getIdToken(e),o=Fa(i);N(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");let u=typeof o.firebase=="object"?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:i,authTime:nn(Pi(o.auth_time)),issuedAtTime:nn(Pi(o.iat)),expirationTime:nn(Pi(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}})}function Pi(r){return Number(r)*1e3}function Fa(r){let[e,n,i]=r.split(".");if(e===void 0||n===void 0||i===void 0)return jn("JWT malformed, contained fewer than 3 sections"),null;try{let o=Mn(n);return o?JSON.parse(o):(jn("Failed to decode base64 JWT payload"),null)}catch(o){return jn("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Sa(r){let e=Fa(r);return N(e,"internal-error"),N(typeof e.exp<"u","internal-error"),N(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Di(r,e,n=!1){return T(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof ne&&bh(i)&&r.auth.currentUser===r&&(yield r.auth.signOut()),i}})}function bh({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}var Ni=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>T(this,null,function*(){yield this.iteration()}),n)}iteration(){return T(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var sn=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nn(this.lastLoginAt),this.creationTime=nn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Jn(r){return T(this,null,function*(){var e;let n=r.auth,i=yield r.getIdToken(),o=yield Di(r,Qn(n,{idToken:i}));N(o?.users.length,n,"internal-error");let u=o.users[0];r._notifyReloadListener(u);let d=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?Ua(u.providerUserInfo):[],v=Sh(r.providerData,d),E=r.isAnonymous,w=!(r.email&&u.passwordHash)&&!v?.length,b=E?w:!1,R={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:v,metadata:new sn(u.createdAt,u.lastLoginAt),isAnonymous:b};Object.assign(r,R)})}function $i(r){return T(this,null,function*(){let e=_e(r);yield Jn(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Sh(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Ua(r){return r.map(e=>{var{providerId:n}=e,i=qr(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function Rh(r,e){return T(this,null,function*(){let n=yield Ma(r,{},()=>T(this,null,function*(){let i=ii({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,d=yield La(r,o,"/v1/token",`key=${u}`),v=yield r._getAdditionalHeaders();return v["Content-Type"]="application/x-www-form-urlencoded",Hn.fetch()(d,{method:"POST",headers:v,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Ph(r,e){return T(this,null,function*(){return Zn(r,"POST","/v2/accounts:revokeToken",Va(r,e))})}var rn=class r{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){N(e.idToken,"internal-error"),N(typeof e.idToken<"u","internal-error"),N(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Sa(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){N(e.length!==0,"internal-error");let n=Sa(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return T(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(N(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return T(this,null,function*(){let{accessToken:i,refreshToken:o,expiresIn:u}=yield Rh(e,n);this.updateTokensAndExpiration(i,o,Number(u))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:o,expirationTime:u}=n,d=new r;return i&&(N(typeof i=="string","internal-error",{appName:e}),d.refreshToken=i),o&&(N(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(N(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new r,this.toJSON())}_performRefresh(){return tn("not implemented")}};function We(r,e){N(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}var st=class r{constructor(e){var{uid:n,auth:i,stsTokenManager:o}=e,u=qr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ni(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new sn(u.createdAt||void 0,u.lastLoginAt||void 0)}getIdToken(e){return T(this,null,function*(){let n=yield Di(this,this.stsTokenManager.getToken(this.auth,e));return N(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Bi(this,e)}reload(){return $i(this)}_assign(e){this!==e&&(N(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new r(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return T(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Jn(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return T(this,null,function*(){if(pe(this.auth.app))return Promise.reject(Wn(this.auth));let e=yield this.getIdToken();return yield Di(this,Ah(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,o,u,d,v,E,w,b;let R=(i=n.displayName)!==null&&i!==void 0?i:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,O=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,k=(d=n.photoURL)!==null&&d!==void 0?d:void 0,U=(v=n.tenantId)!==null&&v!==void 0?v:void 0,L=(E=n._redirectEventId)!==null&&E!==void 0?E:void 0,we=(w=n.createdAt)!==null&&w!==void 0?w:void 0,Z=(b=n.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:j,emailVerified:ue,isAnonymous:He,providerData:X,stsTokenManager:_}=n;N(j&&_,e,"internal-error");let l=rn.fromJSON(this.name,_);N(typeof j=="string",e,"internal-error"),We(R,e.name),We(S,e.name),N(typeof ue=="boolean",e,"internal-error"),N(typeof He=="boolean",e,"internal-error"),We(O,e.name),We(k,e.name),We(U,e.name),We(L,e.name),We(we,e.name),We(Z,e.name);let f=new r({uid:j,auth:e,email:S,emailVerified:ue,displayName:R,isAnonymous:He,photoURL:k,phoneNumber:O,tenantId:U,stsTokenManager:l,createdAt:we,lastLoginAt:Z});return X&&Array.isArray(X)&&(f.providerData=X.map(p=>Object.assign({},p))),L&&(f._redirectEventId=L),f}static _fromIdTokenResponse(e,n,i=!1){return T(this,null,function*(){let o=new rn;o.updateFromServerResponse(n);let u=new r({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return yield Jn(u),u})}static _fromGetAccountInfoResponse(e,n,i){return T(this,null,function*(){let o=n.users[0];N(o.localId!==void 0,"internal-error");let u=o.providerUserInfo!==void 0?Ua(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!u?.length,v=new rn;v.updateFromIdToken(i);let E=new r({uid:o.localId,auth:e,stsTokenManager:v,isAnonymous:d}),w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new sn(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(E,w),E})}};var Ra=new Map;function ot(r){Kn(r instanceof Function,"Expected a class definition");let e=Ra.get(r);return e?(Kn(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Ra.set(r,e),e)}var Ch=(()=>{class r{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return T(this,null,function*(){return!0})}_set(n,i){return T(this,null,function*(){this.storage[n]=i})}_get(n){return T(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return T(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return r.type="NONE",r})(),Oi=Ch;function Ci(r,e,n){return`firebase:${r}:${e}:${n}`}var Yn=class r{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:o,name:u}=this.auth;this.fullUserKey=Ci(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ci("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return T(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Qn(this.auth,{idToken:e}).catch(()=>{});return n?st._fromGetAccountInfoResponse(this.auth,n,e):null}return st._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return T(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return T(this,null,function*(){if(!n.length)return new r(ot(Oi),e,i);let o=(yield Promise.all(n.map(w=>T(this,null,function*(){if(yield w._isAvailable())return w})))).filter(w=>w),u=o[0]||ot(Oi),d=Ci(i,e.config.apiKey,e.name),v=null;for(let w of n)try{let b=yield w._get(d);if(b){let R;if(typeof b=="string"){let S=yield Qn(e,{idToken:b}).catch(()=>{});if(!S)break;R=yield st._fromGetAccountInfoResponse(e,S,b)}else R=st._fromJSON(e,b);w!==u&&(v=R),u=w;break}}catch{}let E=o.filter(w=>w._shouldAllowMigration);return!u._shouldAllowMigration||!E.length?new r(u,e,i):(u=E[0],v&&(yield u._set(d,v.toJSON())),yield Promise.all(n.map(w=>T(this,null,function*(){if(w!==u)try{yield w._remove(d)}catch{}}))),new r(u,e,i))})}};function Pa(r){let e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Oh(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kh(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Vh(e))return"Blackberry";if(Mh(e))return"Webos";if(Dh(e))return"Safari";if((e.includes("chrome/")||Nh(e))&&!e.includes("edge/"))return"Chrome";if(xh(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(n);if(i?.length===2)return i[1]}return"Other"}function kh(r=ce()){return/firefox\//i.test(r)}function Dh(r=ce()){let e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Nh(r=ce()){return/crios\//i.test(r)}function Oh(r=ce()){return/iemobile/i.test(r)}function xh(r=ce()){return/android/i.test(r)}function Vh(r=ce()){return/blackberry/i.test(r)}function Mh(r=ce()){return/webos/i.test(r)}function Ba(r,e=[]){let n;switch(r){case"Browser":n=Pa(ce());break;case"Worker":n=`${Pa(ce())}-${r}`;break;default:n=r}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vt}/${i}`}var xi=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=u=>new Promise((d,v)=>{try{let E=e(u);d(E)}catch(E){v(E)}});i.onAbort=n,this.queue.push(i);let o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}runMiddleware(e){return T(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function Lh(n){return T(this,arguments,function*(r,e={}){return Zn(r,"GET","/v2/passwordPolicy",Va(r,e))})}var Fh=6,Vi=class{constructor(e){var n,i,o,u;let d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:Fh,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,o,u,d,v;let E={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,E),this.validatePasswordCharacterOptions(e,E),E.isValid&&(E.isValid=(n=E.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),E.isValid&&(E.isValid=(i=E.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),E.isValid&&(E.isValid=(o=E.containsLowercaseLetter)!==null&&o!==void 0?o:!0),E.isValid&&(E.isValid=(u=E.containsUppercaseLetter)!==null&&u!==void 0?u:!0),E.isValid&&(E.isValid=(d=E.containsNumericCharacter)!==null&&d!==void 0?d:!0),E.isValid&&(E.isValid=(v=E.containsNonAlphanumericCharacter)!==null&&v!==void 0?v:!0),E}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}};var Mi=class{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xn(this),this.idTokenSubscription=new Xn(this),this.beforeStateQueue=new xi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Oa,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ot(n)),this._initializationPromise=this.queue(()=>T(this,null,function*(){var i,o,u;if(!this._deleted&&(this.persistenceManager=yield Yn.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return T(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return T(this,null,function*(){try{let n=yield Qn(this,{idToken:e}),i=yield st._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return T(this,null,function*(){var n;if(pe(this.app)){let d=this.app.settings.authIdToken;return d?new Promise(v=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(v,v))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),o=i,u=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,v=o?._redirectEventId,E=yield this.tryRedirectSignIn(e);(!d||d===v)&&E?.user&&(o=E.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{yield this.beforeStateQueue.runMiddleware(o)}catch(d){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return N(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)})}tryRedirectSignIn(e){return T(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return T(this,null,function*(){try{yield Jn(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=vh()}_delete(){return T(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return T(this,null,function*(){if(pe(this.app))return Promise.reject(Wn(this));let n=e?_e(e):null;return n&&N(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return T(this,null,function*(){if(!this._deleted)return e&&N(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>T(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return T(this,null,function*(){return pe(this.app)?Promise.reject(Wn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return pe(this.app)?Promise.reject(Wn(this)):this.queue(()=>T(this,null,function*(){yield this.assertedPersistence.setPersistence(ot(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return T(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return T(this,null,function*(){let e=yield Lh(this),n=new Vi(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fe("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return T(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield Ph(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return T(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return T(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ot(e)||this._popupRedirectResolver;N(n,this,"argument-error"),this.redirectPersistenceManager=yield Yn.create(this,[ot(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return T(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>T(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return T(this,null,function*(){if(e===this.currentUser)return this.queue(()=>T(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};let u=typeof n=="function"?n:n.next.bind(n),d=!1,v=this._isInitialized?Promise.resolve():this._initializationPromise;if(N(v,this,"internal-error"),v.then(()=>{d||u(this.currentUser)}),typeof n=="function"){let E=e.addObserver(n,i,o);return()=>{d=!0,E()}}else{let E=e.addObserver(n);return()=>{d=!0,E()}}}directlySetCurrentUser(e){return T(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ba(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return T(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let o=yield this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n})}_getAppCheckToken(){return T(this,null,function*(){var e;if(pe(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&gh(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Uh(r){return _e(r)}var Xn=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Qo(n=>this.observer=n)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Bh={loadJS(){return T(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $h(r){Bh=r}function qh(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function zh(r,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(ot);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}var Rm=qh("rcb"),Pm=new at(3e4,6e4);var Cm=new at(2e3,1e4);var km=10*60*1e3;var Dm=new at(3e4,6e4);var Nm=new at(5e3,15e3);var Om=encodeURIComponent("fac");var Ca="@firebase/auth",ka="1.10.1";var Li=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return T(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function jh(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Wh(r){re(new $("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:v}=i.options;N(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});let E={apiKey:d,authDomain:v,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ba(r)},w=new Mi(i,o,u,E);return zh(w,n),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),re(new $("auth-internal",e=>{let n=Uh(e.getProvider("auth").getImmediate());return(i=>new Li(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),V(Ca,ka,jh(r)),V(Ca,ka,"esm2017")}var Gh=5*60,xm=qo("authIdTokenMaxAge")||Gh;function Kh(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}$h({loadJS(r){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{let u=Fi("internal-error");u.customData=o,n(u)},i.type="text/javascript",i.charset="UTF-8",Kh().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Wh("Browser");var Wd="auth";var Tt=class{constructor(){return qe(Wd)}};var $a=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qa={};var er,za;(function(){var r;function e(_,l){function f(){}f.prototype=l.prototype,_.D=l.prototype,_.prototype=new f,_.prototype.constructor=_,_.C=function(p,m,y){for(var h=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)h[Te-2]=arguments[Te];return l.prototype[m].apply(p,h)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(_,l,f){f||(f=0);var p=Array(16);if(typeof l=="string")for(var m=0;16>m;++m)p[m]=l.charCodeAt(f++)|l.charCodeAt(f++)<<8|l.charCodeAt(f++)<<16|l.charCodeAt(f++)<<24;else for(m=0;16>m;++m)p[m]=l[f++]|l[f++]<<8|l[f++]<<16|l[f++]<<24;l=_.g[0],f=_.g[1],m=_.g[2];var y=_.g[3],h=l+(y^f&(m^y))+p[0]+3614090360&4294967295;l=f+(h<<7&4294967295|h>>>25),h=y+(m^l&(f^m))+p[1]+3905402710&4294967295,y=l+(h<<12&4294967295|h>>>20),h=m+(f^y&(l^f))+p[2]+606105819&4294967295,m=y+(h<<17&4294967295|h>>>15),h=f+(l^m&(y^l))+p[3]+3250441966&4294967295,f=m+(h<<22&4294967295|h>>>10),h=l+(y^f&(m^y))+p[4]+4118548399&4294967295,l=f+(h<<7&4294967295|h>>>25),h=y+(m^l&(f^m))+p[5]+1200080426&4294967295,y=l+(h<<12&4294967295|h>>>20),h=m+(f^y&(l^f))+p[6]+2821735955&4294967295,m=y+(h<<17&4294967295|h>>>15),h=f+(l^m&(y^l))+p[7]+4249261313&4294967295,f=m+(h<<22&4294967295|h>>>10),h=l+(y^f&(m^y))+p[8]+1770035416&4294967295,l=f+(h<<7&4294967295|h>>>25),h=y+(m^l&(f^m))+p[9]+2336552879&4294967295,y=l+(h<<12&4294967295|h>>>20),h=m+(f^y&(l^f))+p[10]+4294925233&4294967295,m=y+(h<<17&4294967295|h>>>15),h=f+(l^m&(y^l))+p[11]+2304563134&4294967295,f=m+(h<<22&4294967295|h>>>10),h=l+(y^f&(m^y))+p[12]+1804603682&4294967295,l=f+(h<<7&4294967295|h>>>25),h=y+(m^l&(f^m))+p[13]+4254626195&4294967295,y=l+(h<<12&4294967295|h>>>20),h=m+(f^y&(l^f))+p[14]+2792965006&4294967295,m=y+(h<<17&4294967295|h>>>15),h=f+(l^m&(y^l))+p[15]+1236535329&4294967295,f=m+(h<<22&4294967295|h>>>10),h=l+(m^y&(f^m))+p[1]+4129170786&4294967295,l=f+(h<<5&4294967295|h>>>27),h=y+(f^m&(l^f))+p[6]+3225465664&4294967295,y=l+(h<<9&4294967295|h>>>23),h=m+(l^f&(y^l))+p[11]+643717713&4294967295,m=y+(h<<14&4294967295|h>>>18),h=f+(y^l&(m^y))+p[0]+3921069994&4294967295,f=m+(h<<20&4294967295|h>>>12),h=l+(m^y&(f^m))+p[5]+3593408605&4294967295,l=f+(h<<5&4294967295|h>>>27),h=y+(f^m&(l^f))+p[10]+38016083&4294967295,y=l+(h<<9&4294967295|h>>>23),h=m+(l^f&(y^l))+p[15]+3634488961&4294967295,m=y+(h<<14&4294967295|h>>>18),h=f+(y^l&(m^y))+p[4]+3889429448&4294967295,f=m+(h<<20&4294967295|h>>>12),h=l+(m^y&(f^m))+p[9]+568446438&4294967295,l=f+(h<<5&4294967295|h>>>27),h=y+(f^m&(l^f))+p[14]+3275163606&4294967295,y=l+(h<<9&4294967295|h>>>23),h=m+(l^f&(y^l))+p[3]+4107603335&4294967295,m=y+(h<<14&4294967295|h>>>18),h=f+(y^l&(m^y))+p[8]+1163531501&4294967295,f=m+(h<<20&4294967295|h>>>12),h=l+(m^y&(f^m))+p[13]+2850285829&4294967295,l=f+(h<<5&4294967295|h>>>27),h=y+(f^m&(l^f))+p[2]+4243563512&4294967295,y=l+(h<<9&4294967295|h>>>23),h=m+(l^f&(y^l))+p[7]+1735328473&4294967295,m=y+(h<<14&4294967295|h>>>18),h=f+(y^l&(m^y))+p[12]+2368359562&4294967295,f=m+(h<<20&4294967295|h>>>12),h=l+(f^m^y)+p[5]+4294588738&4294967295,l=f+(h<<4&4294967295|h>>>28),h=y+(l^f^m)+p[8]+2272392833&4294967295,y=l+(h<<11&4294967295|h>>>21),h=m+(y^l^f)+p[11]+1839030562&4294967295,m=y+(h<<16&4294967295|h>>>16),h=f+(m^y^l)+p[14]+4259657740&4294967295,f=m+(h<<23&4294967295|h>>>9),h=l+(f^m^y)+p[1]+2763975236&4294967295,l=f+(h<<4&4294967295|h>>>28),h=y+(l^f^m)+p[4]+1272893353&4294967295,y=l+(h<<11&4294967295|h>>>21),h=m+(y^l^f)+p[7]+4139469664&4294967295,m=y+(h<<16&4294967295|h>>>16),h=f+(m^y^l)+p[10]+3200236656&4294967295,f=m+(h<<23&4294967295|h>>>9),h=l+(f^m^y)+p[13]+681279174&4294967295,l=f+(h<<4&4294967295|h>>>28),h=y+(l^f^m)+p[0]+3936430074&4294967295,y=l+(h<<11&4294967295|h>>>21),h=m+(y^l^f)+p[3]+3572445317&4294967295,m=y+(h<<16&4294967295|h>>>16),h=f+(m^y^l)+p[6]+76029189&4294967295,f=m+(h<<23&4294967295|h>>>9),h=l+(f^m^y)+p[9]+3654602809&4294967295,l=f+(h<<4&4294967295|h>>>28),h=y+(l^f^m)+p[12]+3873151461&4294967295,y=l+(h<<11&4294967295|h>>>21),h=m+(y^l^f)+p[15]+530742520&4294967295,m=y+(h<<16&4294967295|h>>>16),h=f+(m^y^l)+p[2]+3299628645&4294967295,f=m+(h<<23&4294967295|h>>>9),h=l+(m^(f|~y))+p[0]+4096336452&4294967295,l=f+(h<<6&4294967295|h>>>26),h=y+(f^(l|~m))+p[7]+1126891415&4294967295,y=l+(h<<10&4294967295|h>>>22),h=m+(l^(y|~f))+p[14]+2878612391&4294967295,m=y+(h<<15&4294967295|h>>>17),h=f+(y^(m|~l))+p[5]+4237533241&4294967295,f=m+(h<<21&4294967295|h>>>11),h=l+(m^(f|~y))+p[12]+1700485571&4294967295,l=f+(h<<6&4294967295|h>>>26),h=y+(f^(l|~m))+p[3]+2399980690&4294967295,y=l+(h<<10&4294967295|h>>>22),h=m+(l^(y|~f))+p[10]+4293915773&4294967295,m=y+(h<<15&4294967295|h>>>17),h=f+(y^(m|~l))+p[1]+2240044497&4294967295,f=m+(h<<21&4294967295|h>>>11),h=l+(m^(f|~y))+p[8]+1873313359&4294967295,l=f+(h<<6&4294967295|h>>>26),h=y+(f^(l|~m))+p[15]+4264355552&4294967295,y=l+(h<<10&4294967295|h>>>22),h=m+(l^(y|~f))+p[6]+2734768916&4294967295,m=y+(h<<15&4294967295|h>>>17),h=f+(y^(m|~l))+p[13]+1309151649&4294967295,f=m+(h<<21&4294967295|h>>>11),h=l+(m^(f|~y))+p[4]+4149444226&4294967295,l=f+(h<<6&4294967295|h>>>26),h=y+(f^(l|~m))+p[11]+3174756917&4294967295,y=l+(h<<10&4294967295|h>>>22),h=m+(l^(y|~f))+p[2]+718787259&4294967295,m=y+(h<<15&4294967295|h>>>17),h=f+(y^(m|~l))+p[9]+3951481745&4294967295,_.g[0]=_.g[0]+l&4294967295,_.g[1]=_.g[1]+(m+(h<<21&4294967295|h>>>11))&4294967295,_.g[2]=_.g[2]+m&4294967295,_.g[3]=_.g[3]+y&4294967295}i.prototype.u=function(_,l){l===void 0&&(l=_.length);for(var f=l-this.blockSize,p=this.B,m=this.h,y=0;y<l;){if(m==0)for(;y<=f;)o(this,_,y),y+=this.blockSize;if(typeof _=="string"){for(;y<l;)if(p[m++]=_.charCodeAt(y++),m==this.blockSize){o(this,p),m=0;break}}else for(;y<l;)if(p[m++]=_[y++],m==this.blockSize){o(this,p),m=0;break}}this.h=m,this.o+=l},i.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var l=1;l<_.length-8;++l)_[l]=0;var f=8*this.o;for(l=_.length-8;l<_.length;++l)_[l]=f&255,f/=256;for(this.u(_),_=Array(16),l=f=0;4>l;++l)for(var p=0;32>p;p+=8)_[f++]=this.g[l]>>>p&255;return _};function u(_,l){var f=v;return Object.prototype.hasOwnProperty.call(f,_)?f[_]:f[_]=l(_)}function d(_,l){this.h=l;for(var f=[],p=!0,m=_.length-1;0<=m;m--){var y=_[m]|0;p&&y==l||(f[m]=y,p=!1)}this.g=f}var v={};function E(_){return-128<=_&&128>_?u(_,function(l){return new d([l|0],0>l?-1:0)}):new d([_|0],0>_?-1:0)}function w(_){if(isNaN(_)||!isFinite(_))return R;if(0>_)return L(w(-_));for(var l=[],f=1,p=0;_>=f;p++)l[p]=_/f|0,f*=4294967296;return new d(l,0)}function b(_,l){if(_.length==0)throw Error("number format error: empty string");if(l=l||10,2>l||36<l)throw Error("radix out of range: "+l);if(_.charAt(0)=="-")return L(b(_.substring(1),l));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var f=w(Math.pow(l,8)),p=R,m=0;m<_.length;m+=8){var y=Math.min(8,_.length-m),h=parseInt(_.substring(m,m+y),l);8>y?(y=w(Math.pow(l,y)),p=p.j(y).add(w(h))):(p=p.j(f),p=p.add(w(h)))}return p}var R=E(0),S=E(1),O=E(16777216);r=d.prototype,r.m=function(){if(U(this))return-L(this).m();for(var _=0,l=1,f=0;f<this.g.length;f++){var p=this.i(f);_+=(0<=p?p:4294967296+p)*l,l*=4294967296}return _},r.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(k(this))return"0";if(U(this))return"-"+L(this).toString(_);for(var l=w(Math.pow(_,6)),f=this,p="";;){var m=ue(f,l).g;f=we(f,m.j(l));var y=((0<f.g.length?f.g[0]:f.h)>>>0).toString(_);if(f=m,k(f))return y+p;for(;6>y.length;)y="0"+y;p=y+p}},r.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function k(_){if(_.h!=0)return!1;for(var l=0;l<_.g.length;l++)if(_.g[l]!=0)return!1;return!0}function U(_){return _.h==-1}r.l=function(_){return _=we(this,_),U(_)?-1:k(_)?0:1};function L(_){for(var l=_.g.length,f=[],p=0;p<l;p++)f[p]=~_.g[p];return new d(f,~_.h).add(S)}r.abs=function(){return U(this)?L(this):this},r.add=function(_){for(var l=Math.max(this.g.length,_.g.length),f=[],p=0,m=0;m<=l;m++){var y=p+(this.i(m)&65535)+(_.i(m)&65535),h=(y>>>16)+(this.i(m)>>>16)+(_.i(m)>>>16);p=h>>>16,y&=65535,h&=65535,f[m]=h<<16|y}return new d(f,f[f.length-1]&-2147483648?-1:0)};function we(_,l){return _.add(L(l))}r.j=function(_){if(k(this)||k(_))return R;if(U(this))return U(_)?L(this).j(L(_)):L(L(this).j(_));if(U(_))return L(this.j(L(_)));if(0>this.l(O)&&0>_.l(O))return w(this.m()*_.m());for(var l=this.g.length+_.g.length,f=[],p=0;p<2*l;p++)f[p]=0;for(p=0;p<this.g.length;p++)for(var m=0;m<_.g.length;m++){var y=this.i(p)>>>16,h=this.i(p)&65535,Te=_.i(m)>>>16,Pt=_.i(m)&65535;f[2*p+2*m]+=h*Pt,Z(f,2*p+2*m),f[2*p+2*m+1]+=y*Pt,Z(f,2*p+2*m+1),f[2*p+2*m+1]+=h*Te,Z(f,2*p+2*m+1),f[2*p+2*m+2]+=y*Te,Z(f,2*p+2*m+2)}for(p=0;p<l;p++)f[p]=f[2*p+1]<<16|f[2*p];for(p=l;p<2*l;p++)f[p]=0;return new d(f,0)};function Z(_,l){for(;(_[l]&65535)!=_[l];)_[l+1]+=_[l]>>>16,_[l]&=65535,l++}function j(_,l){this.g=_,this.h=l}function ue(_,l){if(k(l))throw Error("division by zero");if(k(_))return new j(R,R);if(U(_))return l=ue(L(_),l),new j(L(l.g),L(l.h));if(U(l))return l=ue(_,L(l)),new j(L(l.g),l.h);if(30<_.g.length){if(U(_)||U(l))throw Error("slowDivide_ only works with positive integers.");for(var f=S,p=l;0>=p.l(_);)f=He(f),p=He(p);var m=X(f,1),y=X(p,1);for(p=X(p,2),f=X(f,2);!k(p);){var h=y.add(p);0>=h.l(_)&&(m=m.add(f),y=h),p=X(p,1),f=X(f,1)}return l=we(_,m.j(l)),new j(m,l)}for(m=R;0<=_.l(l);){for(f=Math.max(1,Math.floor(_.m()/l.m())),p=Math.ceil(Math.log(f)/Math.LN2),p=48>=p?1:Math.pow(2,p-48),y=w(f),h=y.j(l);U(h)||0<h.l(_);)f-=p,y=w(f),h=y.j(l);k(y)&&(y=S),m=m.add(y),_=we(_,h)}return new j(m,_)}r.A=function(_){return ue(this,_).h},r.and=function(_){for(var l=Math.max(this.g.length,_.g.length),f=[],p=0;p<l;p++)f[p]=this.i(p)&_.i(p);return new d(f,this.h&_.h)},r.or=function(_){for(var l=Math.max(this.g.length,_.g.length),f=[],p=0;p<l;p++)f[p]=this.i(p)|_.i(p);return new d(f,this.h|_.h)},r.xor=function(_){for(var l=Math.max(this.g.length,_.g.length),f=[],p=0;p<l;p++)f[p]=this.i(p)^_.i(p);return new d(f,this.h^_.h)};function He(_){for(var l=_.g.length+1,f=[],p=0;p<l;p++)f[p]=_.i(p)<<1|_.i(p-1)>>>31;return new d(f,_.h)}function X(_,l){var f=l>>5;l%=32;for(var p=_.g.length-f,m=[],y=0;y<p;y++)m[y]=0<l?_.i(y+f)>>>l|_.i(y+f+1)<<32-l:_.i(y+f);return new d(m,_.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,za=qa.Md5=i,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=w,d.fromString=b,er=qa.Integer=d}).apply(typeof $a<"u"?$a:typeof self<"u"?self:typeof window<"u"?window:{});var tr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xe={};var ja,Gd,Wa,Ga,Ka,Ha,Qa,Ja,Ya;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(t,s,a){return t==Array.prototype||t==Object.prototype||(t[s]=a.value),t};function n(t){t=[typeof globalThis=="object"&&globalThis,t,typeof window=="object"&&window,typeof self=="object"&&self,typeof tr=="object"&&tr];for(var s=0;s<t.length;++s){var a=t[s];if(a&&a.Math==Math)return a}throw Error("Cannot find global object")}var i=n(this);function o(t,s){if(s)e:{var a=i;t=t.split(".");for(var c=0;c<t.length-1;c++){var g=t[c];if(!(g in a))break e;a=a[g]}t=t[t.length-1],c=a[t],s=s(c),s!=c&&s!=null&&e(a,t,{configurable:!0,writable:!0,value:s})}}function u(t,s){t instanceof String&&(t+="");var a=0,c=!1,g={next:function(){if(!c&&a<t.length){var I=a++;return{value:s(I,t[I]),done:!1}}return c=!0,{done:!0,value:void 0}}};return g[Symbol.iterator]=function(){return g},g}o("Array.prototype.values",function(t){return t||function(){return u(this,function(s,a){return a})}});var d=d||{},v=this||self;function E(t){var s=typeof t;return s=s!="object"?s:t?Array.isArray(t)?"array":s:"null",s=="array"||s=="object"&&typeof t.length=="number"}function w(t){var s=typeof t;return s=="object"&&t!=null||s=="function"}function b(t,s,a){return t.call.apply(t.bind,arguments)}function R(t,s,a){if(!t)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,c),t.apply(s,g)}}return function(){return t.apply(s,arguments)}}function S(t,s,a){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:R,S.apply(null,arguments)}function O(t,s){var a=Array.prototype.slice.call(arguments,1);return function(){var c=a.slice();return c.push.apply(c,arguments),t.apply(this,c)}}function k(t,s){function a(){}a.prototype=s.prototype,t.aa=s.prototype,t.prototype=new a,t.prototype.constructor=t,t.Qb=function(c,g,I){for(var A=Array(arguments.length-2),x=2;x<arguments.length;x++)A[x-2]=arguments[x];return s.prototype[g].apply(c,A)}}function U(t){let s=t.length;if(0<s){let a=Array(s);for(let c=0;c<s;c++)a[c]=t[c];return a}return[]}function L(t,s){for(let a=1;a<arguments.length;a++){let c=arguments[a];if(E(c)){let g=t.length||0,I=c.length||0;t.length=g+I;for(let A=0;A<I;A++)t[g+A]=c[A]}else t.push(c)}}class we{constructor(s,a){this.i=s,this.j=a,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}function Z(t){return/^[\s\xa0]*$/.test(t)}function j(){var t=v.navigator;return t&&(t=t.userAgent)?t:""}function ue(t){return ue[" "](t),t}ue[" "]=function(){};var He=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function X(t,s,a){for(let c in t)s.call(a,t[c],c,t)}function _(t,s){for(let a in t)s.call(void 0,t[a],a,t)}function l(t){let s={};for(let a in t)s[a]=t[a];return s}let f="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function p(t,s){let a,c;for(let g=1;g<arguments.length;g++){c=arguments[g];for(a in c)t[a]=c[a];for(let I=0;I<f.length;I++)a=f[I],Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a])}}function m(t){var s=1;t=t.split(":");let a=[];for(;0<s&&t.length;)a.push(t.shift()),s--;return t.length&&a.push(t.join(":")),a}function y(t){v.setTimeout(()=>{throw t},0)}function h(){var t=mr;let s=null;return t.g&&(s=t.g,t.g=t.g.next,t.g||(t.h=null),s.next=null),s}class Te{constructor(){this.h=this.g=null}add(s,a){let c=Pt.get();c.set(s,a),this.h?this.h.next=c:this.g=c,this.h=c}}var Pt=new we(()=>new zc,t=>t.reset());class zc{constructor(){this.next=this.g=this.h=null}set(s,a){this.h=s,this.g=a,this.next=null}reset(){this.next=this.g=this.h=null}}let Ct,kt=!1,mr=new Te,hs=()=>{let t=v.Promise.resolve(void 0);Ct=()=>{t.then(jc)}};var jc=()=>{for(var t;t=h();){try{t.h.call(t.g)}catch(a){y(a)}var s=Pt;s.j(t),100>s.h&&(s.h++,t.next=s.g,s.g=t)}kt=!1};function Ve(){this.s=this.s,this.C=this.C}Ve.prototype.s=!1,Ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(t,s){this.type=t,this.g=this.target=s,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var Wc=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var t=!1,s=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let a=()=>{};v.addEventListener("test",a,s),v.removeEventListener("test",a,s)}catch{}return t}();function Dt(t,s){if(W.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var a=this.type=t.type,c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=s,s=t.relatedTarget){if(He){e:{try{ue(s.nodeName);var g=!0;break e}catch{}g=!1}g||(s=null)}}else a=="mouseover"?s=t.fromElement:a=="mouseout"&&(s=t.toElement);this.relatedTarget=s,c?(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Gc[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Dt.aa.h.call(this)}}k(Dt,W);var Gc={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),Kc=0;function Hc(t,s,a,c,g){this.listener=t,this.proxy=null,this.src=s,this.type=a,this.capture=!!c,this.ha=g,this.key=++Kc,this.da=this.fa=!1}function ln(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function hn(t){this.src=t,this.g={},this.h=0}hn.prototype.add=function(t,s,a,c,g){var I=t.toString();t=this.g[I],t||(t=this.g[I]=[],this.h++);var A=_r(t,s,c,g);return-1<A?(s=t[A],a||(s.fa=!1)):(s=new Hc(s,this.src,I,!!c,g),s.fa=a,t.push(s)),s};function gr(t,s){var a=s.type;if(a in t.g){var c=t.g[a],g=Array.prototype.indexOf.call(c,s,void 0),I;(I=0<=g)&&Array.prototype.splice.call(c,g,1),I&&(ln(s),t.g[a].length==0&&(delete t.g[a],t.h--))}}function _r(t,s,a,c){for(var g=0;g<t.length;++g){var I=t[g];if(!I.da&&I.listener==s&&I.capture==!!a&&I.ha==c)return g}return-1}var yr="closure_lm_"+(1e6*Math.random()|0),vr={};function ds(t,s,a,c,g){if(c&&c.once)return ps(t,s,a,c,g);if(Array.isArray(s)){for(var I=0;I<s.length;I++)ds(t,s[I],a,c,g);return null}return a=Tr(a),t&&t[Nt]?t.K(s,a,w(c)?!!c.capture:!!c,g):fs(t,s,a,!1,c,g)}function fs(t,s,a,c,g,I){if(!s)throw Error("Invalid event type");var A=w(g)?!!g.capture:!!g,x=Er(t);if(x||(t[yr]=x=new hn(t)),a=x.add(s,a,c,A,I),a.proxy)return a;if(c=Qc(),a.proxy=c,c.src=t,c.listener=a,t.addEventListener)Wc||(g=A),g===void 0&&(g=!1),t.addEventListener(s.toString(),c,g);else if(t.attachEvent)t.attachEvent(gs(s.toString()),c);else if(t.addListener&&t.removeListener)t.addListener(c);else throw Error("addEventListener and attachEvent are unavailable.");return a}function Qc(){function t(a){return s.call(t.src,t.listener,a)}let s=Jc;return t}function ps(t,s,a,c,g){if(Array.isArray(s)){for(var I=0;I<s.length;I++)ps(t,s[I],a,c,g);return null}return a=Tr(a),t&&t[Nt]?t.L(s,a,w(c)?!!c.capture:!!c,g):fs(t,s,a,!0,c,g)}function ms(t,s,a,c,g){if(Array.isArray(s))for(var I=0;I<s.length;I++)ms(t,s[I],a,c,g);else c=w(c)?!!c.capture:!!c,a=Tr(a),t&&t[Nt]?(t=t.i,s=String(s).toString(),s in t.g&&(I=t.g[s],a=_r(I,a,c,g),-1<a&&(ln(I[a]),Array.prototype.splice.call(I,a,1),I.length==0&&(delete t.g[s],t.h--)))):t&&(t=Er(t))&&(s=t.g[s.toString()],t=-1,s&&(t=_r(s,a,c,g)),(a=-1<t?s[t]:null)&&Ir(a))}function Ir(t){if(typeof t!="number"&&t&&!t.da){var s=t.src;if(s&&s[Nt])gr(s.i,t);else{var a=t.type,c=t.proxy;s.removeEventListener?s.removeEventListener(a,c,t.capture):s.detachEvent?s.detachEvent(gs(a),c):s.addListener&&s.removeListener&&s.removeListener(c),(a=Er(s))?(gr(a,t),a.h==0&&(a.src=null,s[yr]=null)):ln(t)}}}function gs(t){return t in vr?vr[t]:vr[t]="on"+t}function Jc(t,s){if(t.da)t=!0;else{s=new Dt(s,this);var a=t.listener,c=t.ha||t.src;t.fa&&Ir(t),t=a.call(c,s)}return t}function Er(t){return t=t[yr],t instanceof hn?t:null}var wr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tr(t){return typeof t=="function"?t:(t[wr]||(t[wr]=function(s){return t.handleEvent(s)}),t[wr])}function G(){Ve.call(this),this.i=new hn(this),this.M=this,this.F=null}k(G,Ve),G.prototype[Nt]=!0,G.prototype.removeEventListener=function(t,s,a,c){ms(this,t,s,a,c)};function Q(t,s){var a,c=t.F;if(c)for(a=[];c;c=c.F)a.push(c);if(t=t.M,c=s.type||s,typeof s=="string")s=new W(s,t);else if(s instanceof W)s.target=s.target||t;else{var g=s;s=new W(c,t),p(s,g)}if(g=!0,a)for(var I=a.length-1;0<=I;I--){var A=s.g=a[I];g=dn(A,c,!0,s)&&g}if(A=s.g=t,g=dn(A,c,!0,s)&&g,g=dn(A,c,!1,s)&&g,a)for(I=0;I<a.length;I++)A=s.g=a[I],g=dn(A,c,!1,s)&&g}G.prototype.N=function(){if(G.aa.N.call(this),this.i){var t=this.i,s;for(s in t.g){for(var a=t.g[s],c=0;c<a.length;c++)ln(a[c]);delete t.g[s],t.h--}}this.F=null},G.prototype.K=function(t,s,a,c){return this.i.add(String(t),s,!1,a,c)},G.prototype.L=function(t,s,a,c){return this.i.add(String(t),s,!0,a,c)};function dn(t,s,a,c){if(s=t.i.g[String(s)],!s)return!0;s=s.concat();for(var g=!0,I=0;I<s.length;++I){var A=s[I];if(A&&!A.da&&A.capture==a){var x=A.listener,B=A.ha||A.src;A.fa&&gr(t.i,A),g=x.call(B,c)!==!1&&g}}return g&&!c.defaultPrevented}function _s(t,s,a){if(typeof t=="function")a&&(t=S(t,a));else if(t&&typeof t.handleEvent=="function")t=S(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:v.setTimeout(t,s||0)}function ys(t){t.g=_s(()=>{t.g=null,t.i&&(t.i=!1,ys(t))},t.l);let s=t.h;t.h=null,t.m.apply(null,s)}class Yc extends Ve{constructor(s,a){super(),this.m=s,this.l=a,this.h=null,this.i=!1,this.g=null}j(s){this.h=arguments,this.g?this.i=!0:ys(this)}N(){super.N(),this.g&&(v.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ot(t){Ve.call(this),this.h=t,this.g={}}k(Ot,Ve);var vs=[];function Is(t){X(t.g,function(s,a){this.g.hasOwnProperty(a)&&Ir(s)},t),t.g={}}Ot.prototype.N=function(){Ot.aa.N.call(this),Is(this)},Ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ar=v.JSON.stringify,Xc=v.JSON.parse,Zc=class{stringify(t){return v.JSON.stringify(t,void 0)}parse(t){return v.JSON.parse(t,void 0)}};function br(){}br.prototype.h=null;function Es(t){return t.h||(t.h=t.i())}function ws(){}var xt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sr(){W.call(this,"d")}k(Sr,W);function Rr(){W.call(this,"c")}k(Rr,W);var Qe={},Ts=null;function fn(){return Ts=Ts||new G}Qe.La="serverreachability";function As(t){W.call(this,Qe.La,t)}k(As,W);function Vt(t){let s=fn();Q(s,new As(s))}Qe.STAT_EVENT="statevent";function bs(t,s){W.call(this,Qe.STAT_EVENT,t),this.stat=s}k(bs,W);function J(t){let s=fn();Q(s,new bs(s,t))}Qe.Ma="timingevent";function Ss(t,s){W.call(this,Qe.Ma,t),this.size=s}k(Ss,W);function Mt(t,s){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return v.setTimeout(function(){t()},s)}function Lt(){this.g=!0}Lt.prototype.xa=function(){this.g=!1};function eu(t,s,a,c,g,I){t.info(function(){if(t.g)if(I)for(var A="",x=I.split("&"),B=0;B<x.length;B++){var C=x[B].split("=");if(1<C.length){var K=C[0];C=C[1];var H=K.split("_");A=2<=H.length&&H[1]=="type"?A+(K+"="+C+"&"):A+(K+"=redacted&")}}else A=null;else A=I;return"XMLHTTP REQ ("+c+") [attempt "+g+"]: "+s+`
`+a+`
`+A})}function tu(t,s,a,c,g,I,A){t.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+g+"]: "+s+`
`+a+`
`+I+" "+A})}function ht(t,s,a,c){t.info(function(){return"XMLHTTP TEXT ("+s+"): "+ru(t,a)+(c?" "+c:"")})}function nu(t,s){t.info(function(){return"TIMEOUT: "+s})}Lt.prototype.info=function(){};function ru(t,s){if(!t.g)return s;if(!s)return null;try{var a=JSON.parse(s);if(a){for(t=0;t<a.length;t++)if(Array.isArray(a[t])){var c=a[t];if(!(2>c.length)){var g=c[1];if(Array.isArray(g)&&!(1>g.length)){var I=g[0];if(I!="noop"&&I!="stop"&&I!="close")for(var A=1;A<g.length;A++)g[A]=""}}}}return Ar(a)}catch{return s}}var pn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pr;function mn(){}k(mn,br),mn.prototype.g=function(){return new XMLHttpRequest},mn.prototype.i=function(){return{}},Pr=new mn;function Me(t,s,a,c){this.j=t,this.i=s,this.l=a,this.R=c||1,this.U=new Ot(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ps}function Ps(){this.i=null,this.g="",this.h=!1}var Cs={},Cr={};function kr(t,s,a){t.L=1,t.v=vn(Ae(s)),t.m=a,t.P=!0,ks(t,null)}function ks(t,s){t.F=Date.now(),gn(t),t.A=Ae(t.v);var a=t.A,c=t.R;Array.isArray(c)||(c=[String(c)]),js(a.i,"t",c),t.C=0,a=t.j.J,t.h=new Ps,t.g=co(t.j,a?s:null,!t.m),0<t.O&&(t.M=new Yc(S(t.Y,t,t.g),t.O)),s=t.U,a=t.g,c=t.ca;var g="readystatechange";Array.isArray(g)||(g&&(vs[0]=g.toString()),g=vs);for(var I=0;I<g.length;I++){var A=ds(a,g[I],c||s.handleEvent,!1,s.h||s);if(!A)break;s.g[A.key]=A}s=t.H?l(t.H):{},t.m?(t.u||(t.u="POST"),s["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.m,s)):(t.u="GET",t.g.ea(t.A,t.u,null,s)),Vt(),eu(t.i,t.u,t.A,t.l,t.R,t.m)}Me.prototype.ca=function(t){t=t.target;let s=this.M;s&&be(t)==3?s.j():this.Y(t)},Me.prototype.Y=function(t){try{if(t==this.g)e:{let H=be(this.g);var s=this.g.Ba();let pt=this.g.Z();if(!(3>H)&&(H!=3||this.g&&(this.h.h||this.g.oa()||Ys(this.g)))){this.J||H!=4||s==7||(s==8||0>=pt?Vt(3):Vt(2)),Dr(this);var a=this.g.Z();this.X=a;t:if(Ds(this)){var c=Ys(this.g);t="";var g=c.length,I=be(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Je(this),Ft(this);var A="";break t}this.h.i=new v.TextDecoder}for(s=0;s<g;s++)this.h.h=!0,t+=this.h.i.decode(c[s],{stream:!(I&&s==g-1)});c.length=0,this.h.g+=t,this.C=0,A=this.h.g}else A=this.g.oa();if(this.o=a==200,tu(this.i,this.u,this.A,this.l,this.R,H,a),this.o){if(this.T&&!this.K){t:{if(this.g){var x,B=this.g;if((x=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(x)){var C=x;break t}}C=null}if(a=C)ht(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nr(this,a);else{this.o=!1,this.s=3,J(12),Je(this),Ft(this);break e}}if(this.P){a=!0;let le;for(;!this.J&&this.C<A.length;)if(le=iu(this,A),le==Cr){H==4&&(this.s=4,J(14),a=!1),ht(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Cs){this.s=4,J(15),ht(this.i,this.l,A,"[Invalid Chunk]"),a=!1;break}else ht(this.i,this.l,le,null),Nr(this,le);if(Ds(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),H!=4||A.length!=0||this.h.h||(this.s=1,J(16),a=!1),this.o=this.o&&a,!a)ht(this.i,this.l,A,"[Invalid Chunked Response]"),Je(this),Ft(this);else if(0<A.length&&!this.W){this.W=!0;var K=this.j;K.g==this&&K.ba&&!K.M&&(K.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),Fr(K),K.M=!0,J(11))}}else ht(this.i,this.l,A,null),Nr(this,A);H==4&&Je(this),this.o&&!this.J&&(H==4?io(this.j,this):(this.o=!1,gn(this)))}else Eu(this.g),a==400&&0<A.indexOf("Unknown SID")?(this.s=3,J(12)):(this.s=0,J(13)),Je(this),Ft(this)}}}catch{}finally{}};function Ds(t){return t.g?t.u=="GET"&&t.L!=2&&t.j.Ca:!1}function iu(t,s){var a=t.C,c=s.indexOf(`
`,a);return c==-1?Cr:(a=Number(s.substring(a,c)),isNaN(a)?Cs:(c+=1,c+a>s.length?Cr:(s=s.slice(c,c+a),t.C=c+a,s)))}Me.prototype.cancel=function(){this.J=!0,Je(this)};function gn(t){t.S=Date.now()+t.I,Ns(t,t.I)}function Ns(t,s){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Mt(S(t.ba,t),s)}function Dr(t){t.B&&(v.clearTimeout(t.B),t.B=null)}Me.prototype.ba=function(){this.B=null;let t=Date.now();0<=t-this.S?(nu(this.i,this.A),this.L!=2&&(Vt(),J(17)),Je(this),this.s=2,Ft(this)):Ns(this,this.S-t)};function Ft(t){t.j.G==0||t.J||io(t.j,t)}function Je(t){Dr(t);var s=t.M;s&&typeof s.ma=="function"&&s.ma(),t.M=null,Is(t.U),t.g&&(s=t.g,t.g=null,s.abort(),s.ma())}function Nr(t,s){try{var a=t.j;if(a.G!=0&&(a.g==t||Or(a.h,t))){if(!t.K&&Or(a.h,t)&&a.G==3){try{var c=a.Da.g.parse(s)}catch{c=null}if(Array.isArray(c)&&c.length==3){var g=c;if(g[0]==0){e:if(!a.u){if(a.g)if(a.g.F+3e3<t.F)An(a),wn(a);else break e;Lr(a),J(18)}}else a.za=g[1],0<a.za-a.T&&37500>g[2]&&a.F&&a.v==0&&!a.C&&(a.C=Mt(S(a.Za,a),6e3));if(1>=Vs(a.h)&&a.ca){try{a.ca()}catch{}a.ca=void 0}}else Xe(a,11)}else if((t.K||a.g==t)&&An(a),!Z(s))for(g=a.Da.g.parse(s),s=0;s<g.length;s++){let C=g[s];if(a.T=C[0],C=C[1],a.G==2)if(C[0]=="c"){a.K=C[1],a.ia=C[2];let K=C[3];K!=null&&(a.la=K,a.j.info("VER="+a.la));let H=C[4];H!=null&&(a.Aa=H,a.j.info("SVER="+a.Aa));let pt=C[5];pt!=null&&typeof pt=="number"&&0<pt&&(c=1.5*pt,a.L=c,a.j.info("backChannelRequestTimeoutMs_="+c)),c=a;let le=t.g;if(le){let Sn=le.g?le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sn){var I=c.h;I.g||Sn.indexOf("spdy")==-1&&Sn.indexOf("quic")==-1&&Sn.indexOf("h2")==-1||(I.j=I.l,I.g=new Set,I.h&&(xr(I,I.h),I.h=null))}if(c.D){let Ur=le.g?le.g.getResponseHeader("X-HTTP-Session-Id"):null;Ur&&(c.ya=Ur,M(c.I,c.D,Ur))}}a.G=3,a.l&&a.l.ua(),a.ba&&(a.R=Date.now()-t.F,a.j.info("Handshake RTT: "+a.R+"ms")),c=a;var A=t;if(c.qa=ao(c,c.J?c.ia:null,c.W),A.K){Ms(c.h,A);var x=A,B=c.L;B&&(x.I=B),x.B&&(Dr(x),gn(x)),c.g=A}else no(c);0<a.i.length&&Tn(a)}else C[0]!="stop"&&C[0]!="close"||Xe(a,7);else a.G==3&&(C[0]=="stop"||C[0]=="close"?C[0]=="stop"?Xe(a,7):Mr(a):C[0]!="noop"&&a.l&&a.l.ta(C),a.v=0)}}Vt(4)}catch{}}var su=class{constructor(t,s){this.g=t,this.map=s}};function Os(t){this.l=t||10,v.PerformanceNavigationTiming?(t=v.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(v.chrome&&v.chrome.loadTimes&&v.chrome.loadTimes()&&v.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xs(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Vs(t){return t.h?1:t.g?t.g.size:0}function Or(t,s){return t.h?t.h==s:t.g?t.g.has(s):!1}function xr(t,s){t.g?t.g.add(s):t.h=s}function Ms(t,s){t.h&&t.h==s?t.h=null:t.g&&t.g.has(s)&&t.g.delete(s)}Os.prototype.cancel=function(){if(this.i=Ls(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function Ls(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let s=t.i;for(let a of t.g.values())s=s.concat(a.D);return s}return U(t.i)}function ou(t){if(t.V&&typeof t.V=="function")return t.V();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(E(t)){for(var s=[],a=t.length,c=0;c<a;c++)s.push(t[c]);return s}s=[],a=0;for(c in t)s[a++]=t[c];return s}function au(t){if(t.na&&typeof t.na=="function")return t.na();if(!t.V||typeof t.V!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(E(t)||typeof t=="string"){var s=[];t=t.length;for(var a=0;a<t;a++)s.push(a);return s}s=[],a=0;for(let c in t)s[a++]=c;return s}}}function Fs(t,s){if(t.forEach&&typeof t.forEach=="function")t.forEach(s,void 0);else if(E(t)||typeof t=="string")Array.prototype.forEach.call(t,s,void 0);else for(var a=au(t),c=ou(t),g=c.length,I=0;I<g;I++)s.call(void 0,c[I],a&&a[I],t)}var Us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cu(t,s){if(t){t=t.split("&");for(var a=0;a<t.length;a++){var c=t[a].indexOf("="),g=null;if(0<=c){var I=t[a].substring(0,c);g=t[a].substring(c+1)}else I=t[a];s(I,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}function Ye(t){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,t instanceof Ye){this.h=t.h,_n(this,t.j),this.o=t.o,this.g=t.g,yn(this,t.s),this.l=t.l;var s=t.i,a=new $t;a.i=s.i,s.g&&(a.g=new Map(s.g),a.h=s.h),Bs(this,a),this.m=t.m}else t&&(s=String(t).match(Us))?(this.h=!1,_n(this,s[1]||"",!0),this.o=Ut(s[2]||""),this.g=Ut(s[3]||"",!0),yn(this,s[4]),this.l=Ut(s[5]||"",!0),Bs(this,s[6]||"",!0),this.m=Ut(s[7]||"")):(this.h=!1,this.i=new $t(null,this.h))}Ye.prototype.toString=function(){var t=[],s=this.j;s&&t.push(Bt(s,$s,!0),":");var a=this.g;return(a||s=="file")&&(t.push("//"),(s=this.o)&&t.push(Bt(s,$s,!0),"@"),t.push(encodeURIComponent(String(a)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a=this.s,a!=null&&t.push(":",String(a))),(a=this.l)&&(this.g&&a.charAt(0)!="/"&&t.push("/"),t.push(Bt(a,a.charAt(0)=="/"?hu:lu,!0))),(a=this.i.toString())&&t.push("?",a),(a=this.m)&&t.push("#",Bt(a,fu)),t.join("")};function Ae(t){return new Ye(t)}function _n(t,s,a){t.j=a?Ut(s,!0):s,t.j&&(t.j=t.j.replace(/:$/,""))}function yn(t,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);t.s=s}else t.s=null}function Bs(t,s,a){s instanceof $t?(t.i=s,pu(t.i,t.h)):(a||(s=Bt(s,du)),t.i=new $t(s,t.h))}function M(t,s,a){t.i.set(s,a)}function vn(t){return M(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ut(t,s){return t?s?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Bt(t,s,a){return typeof t=="string"?(t=encodeURI(t).replace(s,uu),a&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function uu(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var $s=/[#\/\?@]/g,lu=/[#\?:]/g,hu=/[#\?]/g,du=/[#\?@]/g,fu=/#/g;function $t(t,s){this.h=this.g=null,this.i=t||null,this.j=!!s}function Le(t){t.g||(t.g=new Map,t.h=0,t.i&&cu(t.i,function(s,a){t.add(decodeURIComponent(s.replace(/\+/g," ")),a)}))}r=$t.prototype,r.add=function(t,s){Le(this),this.i=null,t=dt(this,t);var a=this.g.get(t);return a||this.g.set(t,a=[]),a.push(s),this.h+=1,this};function qs(t,s){Le(t),s=dt(t,s),t.g.has(s)&&(t.i=null,t.h-=t.g.get(s).length,t.g.delete(s))}function zs(t,s){return Le(t),s=dt(t,s),t.g.has(s)}r.forEach=function(t,s){Le(this),this.g.forEach(function(a,c){a.forEach(function(g){t.call(s,g,c,this)},this)},this)},r.na=function(){Le(this);let t=Array.from(this.g.values()),s=Array.from(this.g.keys()),a=[];for(let c=0;c<s.length;c++){let g=t[c];for(let I=0;I<g.length;I++)a.push(s[c])}return a},r.V=function(t){Le(this);let s=[];if(typeof t=="string")zs(this,t)&&(s=s.concat(this.g.get(dt(this,t))));else{t=Array.from(this.g.values());for(let a=0;a<t.length;a++)s=s.concat(t[a])}return s},r.set=function(t,s){return Le(this),this.i=null,t=dt(this,t),zs(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[s]),this.h+=1,this},r.get=function(t,s){return t?(t=this.V(t),0<t.length?String(t[0]):s):s};function js(t,s,a){qs(t,s),0<a.length&&(t.i=null,t.g.set(dt(t,s),U(a)),t.h+=a.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],s=Array.from(this.g.keys());for(var a=0;a<s.length;a++){var c=s[a];let I=encodeURIComponent(String(c)),A=this.V(c);for(c=0;c<A.length;c++){var g=I;A[c]!==""&&(g+="="+encodeURIComponent(String(A[c]))),t.push(g)}}return this.i=t.join("&")};function dt(t,s){return s=String(s),t.j&&(s=s.toLowerCase()),s}function pu(t,s){s&&!t.j&&(Le(t),t.i=null,t.g.forEach(function(a,c){var g=c.toLowerCase();c!=g&&(qs(this,c),js(this,g,a))},t)),t.j=s}function mu(t,s){let a=new Lt;if(v.Image){let c=new Image;c.onload=O(Fe,a,"TestLoadImage: loaded",!0,s,c),c.onerror=O(Fe,a,"TestLoadImage: error",!1,s,c),c.onabort=O(Fe,a,"TestLoadImage: abort",!1,s,c),c.ontimeout=O(Fe,a,"TestLoadImage: timeout",!1,s,c),v.setTimeout(function(){c.ontimeout&&c.ontimeout()},1e4),c.src=t}else s(!1)}function gu(t,s){let a=new Lt,c=new AbortController,g=setTimeout(()=>{c.abort(),Fe(a,"TestPingServer: timeout",!1,s)},1e4);fetch(t,{signal:c.signal}).then(I=>{clearTimeout(g),I.ok?Fe(a,"TestPingServer: ok",!0,s):Fe(a,"TestPingServer: server error",!1,s)}).catch(()=>{clearTimeout(g),Fe(a,"TestPingServer: error",!1,s)})}function Fe(t,s,a,c,g){try{g&&(g.onload=null,g.onerror=null,g.onabort=null,g.ontimeout=null),c(a)}catch{}}function _u(){this.g=new Zc}function yu(t,s,a){let c=a||"";try{Fs(t,function(g,I){let A=g;w(g)&&(A=Ar(g)),s.push(c+I+"="+encodeURIComponent(A))})}catch(g){throw s.push(c+"type="+encodeURIComponent("_badmap")),g}}function qt(t){this.l=t.Ub||null,this.j=t.eb||!1}k(qt,br),qt.prototype.g=function(){return new In(this.l,this.j)},qt.prototype.i=function(t){return function(){return t}}({});function In(t,s){G.call(this),this.D=t,this.o=s,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(In,G),r=In.prototype,r.open=function(t,s){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=t,this.A=s,this.readyState=1,jt(this)},r.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let s={headers:this.u,method:this.B,credentials:this.m,cache:void 0};t&&(s.body=t),(this.D||v).fetch(new Request(this.A,s)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zt(this)),this.readyState=0},r.Sa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,jt(this)),this.g&&(this.readyState=3,jt(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof v.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ws(this)}else t.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ws(t){t.j.read().then(t.Pa.bind(t)).catch(t.ga.bind(t))}r.Pa=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var s=t.value?t.value:new Uint8Array(0);(s=this.v.decode(s,{stream:!t.done}))&&(this.response=this.responseText+=s)}t.done?zt(this):jt(this),this.readyState==3&&Ws(this)}},r.Ra=function(t){this.g&&(this.response=this.responseText=t,zt(this))},r.Qa=function(t){this.g&&(this.response=t,zt(this))},r.ga=function(){this.g&&zt(this)};function zt(t){t.readyState=4,t.l=null,t.j=null,t.v=null,jt(t)}r.setRequestHeader=function(t,s){this.u.append(t,s)},r.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],s=this.h.entries();for(var a=s.next();!a.done;)a=a.value,t.push(a[0]+": "+a[1]),a=s.next();return t.join(`\r
`)};function jt(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(In.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});function Gs(t){let s="";return X(t,function(a,c){s+=c,s+=":",s+=a,s+=`\r
`}),s}function Vr(t,s,a){e:{for(c in a){var c=!1;break e}c=!0}c||(a=Gs(a),typeof t=="string"?a!=null&&encodeURIComponent(String(a)):M(t,s,a))}function F(t){G.call(this),this.headers=new Map,this.o=t||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(F,G);var vu=/^https?$/i,Iu=["POST","PUT"];r=F.prototype,r.Ha=function(t){this.J=t},r.ea=function(t,s,a,c){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);s=s?s.toUpperCase():"GET",this.D=t,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pr.g(),this.v=this.o?Es(this.o):Es(Pr),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(s,String(t),!0),this.B=!1}catch(I){Ks(this,I);return}if(t=a||"",a=new Map(this.headers),c)if(Object.getPrototypeOf(c)===Object.prototype)for(var g in c)a.set(g,c[g]);else if(typeof c.keys=="function"&&typeof c.get=="function")for(let I of c.keys())a.set(I,c.get(I));else throw Error("Unknown input type for opt_headers: "+String(c));c=Array.from(a.keys()).find(I=>I.toLowerCase()=="content-type"),g=v.FormData&&t instanceof v.FormData,!(0<=Array.prototype.indexOf.call(Iu,s,void 0))||c||g||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[I,A]of a)this.g.setRequestHeader(I,A);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Js(this),this.u=!0,this.g.send(t),this.u=!1}catch(I){Ks(this,I)}};function Ks(t,s){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=s,t.m=5,Hs(t),En(t)}function Hs(t){t.A||(t.A=!0,Q(t,"complete"),Q(t,"error"))}r.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=t||7,Q(this,"complete"),Q(this,"abort"),En(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),En(this,!0)),F.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Qs(this):this.bb())},r.bb=function(){Qs(this)};function Qs(t){if(t.h&&typeof d<"u"&&(!t.v[1]||be(t)!=4||t.Z()!=2)){if(t.u&&be(t)==4)_s(t.Ea,0,t);else if(Q(t,"readystatechange"),be(t)==4){t.h=!1;try{let A=t.Z();e:switch(A){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break e;default:s=!1}var a;if(!(a=s)){var c;if(c=A===0){var g=String(t.D).match(Us)[1]||null;!g&&v.self&&v.self.location&&(g=v.self.location.protocol.slice(0,-1)),c=!vu.test(g?g.toLowerCase():"")}a=c}if(a)Q(t,"complete"),Q(t,"success");else{t.m=6;try{var I=2<be(t)?t.g.statusText:""}catch{I=""}t.l=I+" ["+t.Z()+"]",Hs(t)}}finally{En(t)}}}}function En(t,s){if(t.g){Js(t);let a=t.g,c=t.v[0]?()=>{}:null;t.g=null,t.v=null,s||Q(t,"ready");try{a.onreadystatechange=c}catch{}}}function Js(t){t.I&&(v.clearTimeout(t.I),t.I=null)}r.isActive=function(){return!!this.g};function be(t){return t.g?t.g.readyState:0}r.Z=function(){try{return 2<be(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(t){if(this.g){var s=this.g.responseText;return t&&s.indexOf(t)==0&&(s=s.substring(t.length)),Xc(s)}};function Ys(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.H){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Eu(t){let s={};t=(t.g&&2<=be(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let c=0;c<t.length;c++){if(Z(t[c]))continue;var a=m(t[c]);let g=a[0];if(a=a[1],typeof a!="string")continue;a=a.trim();let I=s[g]||[];s[g]=I,I.push(a)}_(s,function(c){return c.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wt(t,s,a){return a&&a.internalChannelParams&&a.internalChannelParams[t]||s}function Xs(t){this.Aa=0,this.i=[],this.j=new Lt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wt("failFast",!1,t),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wt("baseRetryDelayMs",5e3,t),this.cb=Wt("retryDelaySeedMs",1e4,t),this.Wa=Wt("forwardChannelMaxRetries",2,t),this.wa=Wt("forwardChannelRequestTimeoutMs",2e4,t),this.pa=t&&t.xmlHttpFactory||void 0,this.Xa=t&&t.Tb||void 0,this.Ca=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.h=new Os(t&&t.concurrentRequestLimit),this.Da=new _u,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=t&&t.Rb||!1,t&&t.xa&&this.j.xa(),t&&t.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&t&&t.detectBufferingProxy||!1,this.ja=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.ja=t.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Xs.prototype,r.la=8,r.G=1,r.connect=function(t,s,a,c){J(0),this.W=t,this.H=s||{},a&&c!==void 0&&(this.H.OSID=a,this.H.OAID=c),this.F=this.X,this.I=ao(this,null,this.W),Tn(this)};function Mr(t){if(Zs(t),t.G==3){var s=t.U++,a=Ae(t.I);if(M(a,"SID",t.K),M(a,"RID",s),M(a,"TYPE","terminate"),Gt(t,a),s=new Me(t,t.j,s),s.L=2,s.v=vn(Ae(a)),a=!1,v.navigator&&v.navigator.sendBeacon)try{a=v.navigator.sendBeacon(s.v.toString(),"")}catch{}!a&&v.Image&&(new Image().src=s.v,a=!0),a||(s.g=co(s.j,null),s.g.ea(s.v)),s.F=Date.now(),gn(s)}oo(t)}function wn(t){t.g&&(Fr(t),t.g.cancel(),t.g=null)}function Zs(t){wn(t),t.u&&(v.clearTimeout(t.u),t.u=null),An(t),t.h.cancel(),t.s&&(typeof t.s=="number"&&v.clearTimeout(t.s),t.s=null)}function Tn(t){if(!xs(t.h)&&!t.s){t.s=!0;var s=t.Ga;Ct||hs(),kt||(Ct(),kt=!0),mr.add(s,t),t.B=0}}function wu(t,s){return Vs(t.h)>=t.h.j-(t.s?1:0)?!1:t.s?(t.i=s.D.concat(t.i),!0):t.G==1||t.G==2||t.B>=(t.Va?0:t.Wa)?!1:(t.s=Mt(S(t.Ga,t,s),so(t,t.B)),t.B++,!0)}r.Ga=function(t){if(this.s)if(this.s=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;let g=new Me(this,this.j,t),I=this.o;if(this.S&&(I?(I=l(I),p(I,this.S)):I=this.S),this.m!==null||this.O||(g.H=I,I=null),this.P)e:{for(var s=0,a=0;a<this.i.length;a++){t:{var c=this.i[a];if("__data__"in c.map&&(c=c.map.__data__,typeof c=="string")){c=c.length;break t}c=void 0}if(c===void 0)break;if(s+=c,4096<s){s=a;break e}if(s===4096||a===this.i.length-1){s=a+1;break e}}s=1e3}else s=1e3;s=to(this,g,s),a=Ae(this.I),M(a,"RID",t),M(a,"CVER",22),this.D&&M(a,"X-HTTP-Session-Id",this.D),Gt(this,a),I&&(this.O?s="headers="+encodeURIComponent(String(Gs(I)))+"&"+s:this.m&&Vr(a,this.m,I)),xr(this.h,g),this.Ua&&M(a,"TYPE","init"),this.P?(M(a,"$req",s),M(a,"SID","null"),g.T=!0,kr(g,a,null)):kr(g,a,s),this.G=2}}else this.G==3&&(t?eo(this,t):this.i.length==0||xs(this.h)||eo(this))};function eo(t,s){var a;s?a=s.l:a=t.U++;let c=Ae(t.I);M(c,"SID",t.K),M(c,"RID",a),M(c,"AID",t.T),Gt(t,c),t.m&&t.o&&Vr(c,t.m,t.o),a=new Me(t,t.j,a,t.B+1),t.m===null&&(a.H=t.o),s&&(t.i=s.D.concat(t.i)),s=to(t,a,1e3),a.I=Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random()),xr(t.h,a),kr(a,c,s)}function Gt(t,s){t.H&&X(t.H,function(a,c){M(s,c,a)}),t.l&&Fs({},function(a,c){M(s,c,a)})}function to(t,s,a){a=Math.min(t.i.length,a);var c=t.l?S(t.l.Na,t.l,t):null;e:{var g=t.i;let I=-1;for(;;){let A=["count="+a];I==-1?0<a?(I=g[0].g,A.push("ofs="+I)):I=0:A.push("ofs="+I);let x=!0;for(let B=0;B<a;B++){let C=g[B].g,K=g[B].map;if(C-=I,0>C)I=Math.max(0,g[B].g-100),x=!1;else try{yu(K,A,"req"+C+"_")}catch{c&&c(K)}}if(x){c=A.join("&");break e}}}return t=t.i.splice(0,a),s.D=t,c}function no(t){if(!t.g&&!t.u){t.Y=1;var s=t.Fa;Ct||hs(),kt||(Ct(),kt=!0),mr.add(s,t),t.v=0}}function Lr(t){return t.g||t.u||3<=t.v?!1:(t.Y++,t.u=Mt(S(t.Fa,t),so(t,t.v)),t.v++,!0)}r.Fa=function(){if(this.u=null,ro(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var t=2*this.R;this.j.info("BP detection timer enabled: "+t),this.A=Mt(S(this.ab,this),t)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,J(10),wn(this),ro(this))};function Fr(t){t.A!=null&&(v.clearTimeout(t.A),t.A=null)}function ro(t){t.g=new Me(t,t.j,"rpc",t.Y),t.m===null&&(t.g.H=t.o),t.g.O=0;var s=Ae(t.qa);M(s,"RID","rpc"),M(s,"SID",t.K),M(s,"AID",t.T),M(s,"CI",t.F?"0":"1"),!t.F&&t.ja&&M(s,"TO",t.ja),M(s,"TYPE","xmlhttp"),Gt(t,s),t.m&&t.o&&Vr(s,t.m,t.o),t.L&&(t.g.I=t.L);var a=t.g;t=t.ia,a.L=1,a.v=vn(Ae(s)),a.m=null,a.P=!0,ks(a,t)}r.Za=function(){this.C!=null&&(this.C=null,wn(this),Lr(this),J(19))};function An(t){t.C!=null&&(v.clearTimeout(t.C),t.C=null)}function io(t,s){var a=null;if(t.g==s){An(t),Fr(t),t.g=null;var c=2}else if(Or(t.h,s))a=s.D,Ms(t.h,s),c=1;else return;if(t.G!=0){if(s.o)if(c==1){a=s.m?s.m.length:0,s=Date.now()-s.F;var g=t.B;c=fn(),Q(c,new Ss(c,a)),Tn(t)}else no(t);else if(g=s.s,g==3||g==0&&0<s.X||!(c==1&&wu(t,s)||c==2&&Lr(t)))switch(a&&0<a.length&&(s=t.h,s.i=s.i.concat(a)),g){case 1:Xe(t,5);break;case 4:Xe(t,10);break;case 3:Xe(t,6);break;default:Xe(t,2)}}}function so(t,s){let a=t.Ta+Math.floor(Math.random()*t.cb);return t.isActive()||(a*=2),a*s}function Xe(t,s){if(t.j.info("Error code "+s),s==2){var a=S(t.fb,t),c=t.Xa;let g=!c;c=new Ye(c||"//www.google.com/images/cleardot.gif"),v.location&&v.location.protocol=="http"||_n(c,"https"),vn(c),g?mu(c.toString(),a):gu(c.toString(),a)}else J(2);t.G=0,t.l&&t.l.sa(s),oo(t),Zs(t)}r.fb=function(t){t?(this.j.info("Successfully pinged google.com"),J(2)):(this.j.info("Failed to ping google.com"),J(1))};function oo(t){if(t.G=0,t.ka=[],t.l){let s=Ls(t.h);(s.length!=0||t.i.length!=0)&&(L(t.ka,s),L(t.ka,t.i),t.h.i.length=0,U(t.i),t.i.length=0),t.l.ra()}}function ao(t,s,a){var c=a instanceof Ye?Ae(a):new Ye(a);if(c.g!="")s&&(c.g=s+"."+c.g),yn(c,c.s);else{var g=v.location;c=g.protocol,s=s?s+"."+g.hostname:g.hostname,g=+g.port;var I=new Ye(null);c&&_n(I,c),s&&(I.g=s),g&&yn(I,g),a&&(I.l=a),c=I}return a=t.D,s=t.ya,a&&s&&M(c,a,s),M(c,"VER",t.la),Gt(t,c),c}function co(t,s,a){if(s&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return s=t.Ca&&!t.pa?new F(new qt({eb:a})):new F(t.pa),s.Ha(t.J),s}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function uo(){}r=uo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function bn(){}bn.prototype.g=function(t,s){return new ee(t,s)};function ee(t,s){G.call(this),this.g=new Xs(s),this.l=t,this.h=s&&s.messageUrlParams||null,t=s&&s.messageHeaders||null,s&&s.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=s&&s.initMessageHeaders||null,s&&s.messageContentType&&(t?t["X-WebChannel-Content-Type"]=s.messageContentType:t={"X-WebChannel-Content-Type":s.messageContentType}),s&&s.va&&(t?t["X-WebChannel-Client-Profile"]=s.va:t={"X-WebChannel-Client-Profile":s.va}),this.g.S=t,(t=s&&s.Sb)&&!Z(t)&&(this.g.m=t),this.v=s&&s.supportsCrossDomainXhr||!1,this.u=s&&s.sendRawJson||!1,(s=s&&s.httpSessionIdParam)&&!Z(s)&&(this.g.D=s,t=this.h,t!==null&&s in t&&(t=this.h,s in t&&delete t[s])),this.j=new ft(this)}k(ee,G),ee.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ee.prototype.close=function(){Mr(this.g)},ee.prototype.o=function(t){var s=this.g;if(typeof t=="string"){var a={};a.__data__=t,t=a}else this.u&&(a={},a.__data__=Ar(t),t=a);s.i.push(new su(s.Ya++,t)),s.G==3&&Tn(s)},ee.prototype.N=function(){this.g.l=null,delete this.j,Mr(this.g),delete this.g,ee.aa.N.call(this)};function lo(t){Sr.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var s=t.__sm__;if(s){e:{for(let a in s){t=a;break e}t=void 0}(this.i=t)&&(t=this.i,s=s!==null&&t in s?s[t]:void 0),this.data=s}else this.data=t}k(lo,Sr);function ho(){Rr.call(this),this.status=1}k(ho,Rr);function ft(t){this.g=t}k(ft,uo),ft.prototype.ua=function(){Q(this.g,"a")},ft.prototype.ta=function(t){Q(this.g,new lo(t))},ft.prototype.sa=function(t){Q(this.g,new ho)},ft.prototype.ra=function(){Q(this.g,"b")},bn.prototype.createWebChannel=bn.prototype.g,ee.prototype.send=ee.prototype.o,ee.prototype.open=ee.prototype.m,ee.prototype.close=ee.prototype.close,Ya=xe.createWebChannelTransport=function(){return new bn},Ja=xe.getStatEventTarget=function(){return fn()},Qa=xe.Event=Qe,Ha=xe.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pn.NO_ERROR=0,pn.TIMEOUT=8,pn.HTTP_ERROR=6,Ka=xe.ErrorCode=pn,Rs.COMPLETE="complete",Ga=xe.EventType=Rs,ws.EventType=xt,xt.OPEN="a",xt.CLOSE="b",xt.ERROR="c",xt.MESSAGE="d",G.prototype.listen=G.prototype.K,Wa=xe.WebChannel=ws,Gd=xe.FetchXmlHttpFactory=qt,F.prototype.listenOnce=F.prototype.L,F.prototype.getLastError=F.prototype.Ka,F.prototype.getLastErrorCode=F.prototype.Ba,F.prototype.getStatus=F.prototype.Z,F.prototype.getResponseJson=F.prototype.Oa,F.prototype.getResponseText=F.prototype.oa,F.prototype.send=F.prototype.ea,F.prototype.setWithCredentials=F.prototype.Ha,ja=xe.XhrIo=F}).apply(typeof tr<"u"?tr:typeof self<"u"?self:typeof window<"u"?window:{});var Xa="@firebase/firestore",Za="4.7.11";var q=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};q.UNAUTHENTICATED=new q(null),q.GOOGLE_CREDENTIALS=new q("google-credentials-uid"),q.FIRST_PARTY=new q("first-party-uid"),q.MOCK_USER=new q("mock-user");var an="11.6.1";var bt=new ye("@firebase/firestore");function ge(r,...e){if(bt.logLevel<=D.DEBUG){let n=e.map(rs);bt.debug(`Firestore (${an}): ${r}`,...n)}}function cc(r,...e){if(bt.logLevel<=D.ERROR){let n=e.map(rs);bt.error(`Firestore (${an}): ${r}`,...n)}}function Kd(r,...e){if(bt.logLevel<=D.WARN){let n=e.map(rs);bt.warn(`Firestore (${an}): ${r}`,...n)}}function rs(r){if(typeof r=="string")return r;try{return function(n){return JSON.stringify(n)}(r)}catch{return r}}function ie(r,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,uc(r,i,n)}function uc(r,e,n){let i=`FIRESTORE (${an}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw cc(i),new Error(i)}function ct(r,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,r||uc(e,o,i)}var Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends ne{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ut=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var nr=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},zi=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(q.UNAUTHENTICATED))}shutdown(){}},ji=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Wi=class{constructor(e){this.t=e,this.currentUser=q.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0,42304);let i=this.i,o=E=>this.i!==i?(i=this.i,n(E)):Promise.resolve(),u=new ut;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ut,e.enqueueRetryable(()=>o(this.currentUser))};let d=()=>{let E=u;e.enqueueRetryable(()=>T(this,null,function*(){yield E.promise,yield o(this.currentUser)}))},v=E=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(E=>v(E)),setTimeout(()=>{if(!this.auth){let E=this.t.getImmediate({optional:!0});E?v(E):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ut)}},0),d()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ct(typeof i.accessToken=="string",31837,{l:i}),new nr(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new q(e)}},Gi=class{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=q.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Ki=class{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new Gi(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(q.FIRST_PARTY))}shutdown(){}invalidateToken(){}},rr=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Hi=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pe(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0,3512);let i=u=>{u.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);let d=u.token!==this.m;return this.m=u.token,ge("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>i(u))};let o=u=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){let u=this.V.getImmediate({optional:!0});u?o(u):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rr(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rr(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Hd(){return new TextEncoder}function Ke(r,e){return r<e?-1:r>e?1:0}function Qd(r,e){let n=0;for(;n<r.length&&n<e.length;){let i=r.codePointAt(n),o=e.codePointAt(n);if(i!==o){if(i<128&&o<128)return Ke(i,o);{let u=Hd(),d=Jd(u.encode(ec(r,n)),u.encode(ec(e,n)));return d!==0?d:Ke(i,o)}}n+=i>65535?2:1}return Ke(r.length,e.length)}function ec(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function Jd(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ke(r[n],e[n]);return Ke(r.length,e.length)}var Qi=class r{constructor(e,n,i){n===void 0?n=0:n>e.length&&ie(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&ie(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return r.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof r?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let o=0;o<i;o++){let u=r.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ke(e.length,n.length)}static compareSegments(e,n){let i=r.isNumericId(e),o=r.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?r.extractNumericId(e).compare(r.extractNumericId(n)):Qd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return er.fromString(e.substring(4,e.length-2))}},Ge=class r extends Qi{construct(e,n,i){return new r(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new z(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new r(n)}static emptyPath(){return new r([])}};var lt=class r{constructor(e){this.path=e}static fromPath(e){return new r(Ge.fromString(e))}static fromName(e){return new r(Ge.fromString(e).popFirst(5))}static empty(){return new r(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new r(new Ge(e.slice()))}};var Ji=class{constructor(e,n,i,o){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=o}};Ji.UNKNOWN_ID=-1;function Yd(r){return r.name==="IndexedDbTransactionError"}function Xd(r){return r===0&&1/r==-1/0}var Zd="remoteDocuments",lc="owner";var hc="mutationQueues";var dc="mutations";var fc="documentMutations",ef="remoteDocumentsV14";var pc="remoteDocumentGlobal";var mc="targets";var gc="targetDocuments";var _c="targetGlobal",yc="collectionParents";var vc="clientMetadata";var Ic="bundles";var Ec="namedQueries";var tf="indexConfiguration";var nf="indexState";var rf="indexEntries";var wc="documentOverlays";var sf="globals";var of=[hc,dc,fc,Zd,mc,lc,_c,gc,vc,pc,yc,Ic,Ec],Fg=[...of,wc],af=[hc,dc,fc,ef,mc,lc,_c,gc,vc,pc,yc,Ic,Ec,wc],cf=af,uf=[...cf,tf,nf,rf];var Ug=[...uf,sf];var St=class r{constructor(e,n){this.comparator=e,this.root=n||Ee.EMPTY}insert(e,n){return new r(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ee.BLACK,null,null))}remove(e){return new r(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ee.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new At(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new At(this.root,e,this.comparator,!1)}getReverseIterator(){return new At(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new At(this.root,e,this.comparator,!0)}},At=class{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?i(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ee=class r{constructor(e,n,i,o,u){this.key=e,this.value=n,this.color=i??r.RED,this.left=o??r.EMPTY,this.right=u??r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,u){return new r(e??this.key,n??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this,u=i(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return r.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ie(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ie(27949);return e+(this.isRed()?0:1)}};Ee.EMPTY=null,Ee.RED=!0,Ee.BLACK=!1;Ee.EMPTY=new class{constructor(){this.size=0}get key(){throw ie(57766)}get value(){throw ie(16141)}get color(){throw ie(16727)}get left(){throw ie(29726)}get right(){throw ie(36894)}copy(e,n,i,o,u){return this}insert(e,n,i){return new Ee(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ir=class r{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sr(this.data.getIterator())}getIteratorFrom(e){return new sr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof r)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new r(this.comparator);return n.data=e,n}},sr=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Yi=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Rt=class r{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Yi("Invalid base64 string: "+u):u}}(e);return new r(n)}static fromUint8Array(e){let n=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new r(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Rt.EMPTY_BYTE_STRING=new Rt("");var lf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hf(r){if(ct(!!r,39018),typeof r=="string"){let e=0,n=lf.exec(r);if(ct(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}let i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:on(r.seconds),nanos:on(r.nanos)}}function on(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function df(r){return typeof r=="string"?Rt.fromBase64String(r):Rt.fromUint8Array(r)}var Xi="(default)",Zi=class r{constructor(e,n){this.projectId=e,this.database=n||Xi}static empty(){return new r("","")}get isDefaultDatabase(){return this.database===Xi}isEqual(e){return e instanceof r&&e.projectId===this.projectId&&e.database===this.database}};var Tc="__type__",ff="__max__";var Ac="__vector__",bc="value";function pf(r){var e,n;return((n=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Tc])===null||n===void 0?void 0:n.stringValue)===Ac}function mf(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ff}var $g={mapValue:{fields:{[Tc]:{stringValue:Ac},[bc]:{arrayValue:{}}}}};var qg=new St(lt.comparator);var zg=new St(lt.comparator);var jg=new St(lt.comparator),Wg=new ir(lt.comparator);var Gg=new ir(Ke);var tc,P;(P=tc||(tc={}))[P.OK=0]="OK",P[P.CANCELLED=1]="CANCELLED",P[P.UNKNOWN=2]="UNKNOWN",P[P.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",P[P.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",P[P.NOT_FOUND=5]="NOT_FOUND",P[P.ALREADY_EXISTS=6]="ALREADY_EXISTS",P[P.PERMISSION_DENIED=7]="PERMISSION_DENIED",P[P.UNAUTHENTICATED=16]="UNAUTHENTICATED",P[P.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",P[P.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",P[P.ABORTED=10]="ABORTED",P[P.OUT_OF_RANGE=11]="OUT_OF_RANGE",P[P.UNIMPLEMENTED=12]="UNIMPLEMENTED",P[P.INTERNAL=13]="INTERNAL",P[P.UNAVAILABLE=14]="UNAVAILABLE",P[P.DATA_LOSS=15]="DATA_LOSS";var Kg=new er([4294967295,4294967295],0);var or=class{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(on(e.integerValue));else if("doubleValue"in e){let i=on(e.doubleValue);isNaN(i)?this.Mt(n,13):(this.Mt(n,15),Xd(i)?n.xt(0):n.xt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Mt(n,20),typeof i=="string"&&(i=hf(i)),n.Ot(`${i.seconds||""}`),n.xt(i.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(df(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Mt(n,45),n.xt(i.latitude||0),n.xt(i.longitude||0)}else"mapValue"in e?mf(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):pf(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):ie(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){let i=e.fields||{};this.Mt(n,55);for(let o of Object.keys(i))this.Nt(o,n),this.Ct(i[o],n)}qt(e,n){var i,o;let u=e.fields||{};this.Mt(n,53);let d=bc,v=((o=(i=u[d].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.length)||0;this.Mt(n,15),n.xt(on(v)),this.Nt(d,n),this.Ct(u[d],n)}$t(e,n){let i=e.values||[];this.Mt(n,50);for(let o of i)this.Ct(o,n)}kt(e,n){this.Mt(n,37),lt.fromName(e).path.forEach(i=>{this.Mt(n,60),this.Kt(i,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}};or.Wt=new or;var Hg=new Uint8Array(0);var Sc=41943040,Ie=class r{static withCacheSize(e){return new r(e,r.DEFAULT_COLLECTION_PERCENTILE,r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}};Ie.DEFAULT_COLLECTION_PERCENTILE=10,Ie.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ie.DEFAULT=new Ie(Sc,Ie.DEFAULT_COLLECTION_PERCENTILE,Ie.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ie.DISABLED=new Ie(-1,0,0);var gf=1048576;function qi(){return typeof document<"u"?document:null}var es=class{constructor(e,n,i=1e3,o=1.5,u=6e4){this.bi=e,this.timerId=n,this.u_=i,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();let n=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),o=Math.max(0,n-i);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}};var ts=class r{constructor(e,n,i,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new ut,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,u){let d=Date.now()+i,v=new r(e,n,d,o,u);return v.start(i),v}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var nc,rc;(rc=nc||(nc={})).ya="default",rc.Cache="cache";function _f(r){let e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}var ic=new Map;function yf(r,e,n,i){if(e===!0&&i===!0)throw new z(Y.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function vf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ie(12329,{type:typeof r})}function If(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new z(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=vf(r);throw new z(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}var Rc="firestore.googleapis.com",sc=!0,ar=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new z(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Rc,this.ssl=sc}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:sc;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Sc;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gf)throw new z(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_f((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new z(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new z(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new z(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},cr=class{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ar({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new z(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new z(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ar(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new zi;switch(i.type){case"firstParty":return new Ki(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new z(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return T(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=ic.get(n);i&&(ge("ComponentProvider","Removing Datastore"),ic.delete(n),i.terminate())}(this),Promise.resolve()}};function Pc(r,e,n,i={}){var o;let u=(r=If(r,cr))._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),v=`${e}:${n}`;u.host!==Rc&&u.host!==v&&Kd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let E=Object.assign(Object.assign({},u),{host:v,ssl:!1,emulatorOptions:i});if(!tt(E,d)&&(r._setSettings(E),i.mockUserToken)){let w,b;if(typeof i.mockUserToken=="string")w=i.mockUserToken,b=q.MOCK_USER;else{w=zo(i.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);let R=i.mockUserToken.sub||i.mockUserToken.user_id;if(!R)throw new z(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new q(R)}r._authCredentials=new ji(new nr(w,b))}}var oc="AsyncQueue",ur=class{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new es(this,"async_queue_retry"),this.ju=()=>{let i=qi();i&&ge(oc,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;let n=qi();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;let n=qi();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});let n=new ut;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}Zu(){return T(this,null,function*(){if(this.Qu.length!==0){try{yield this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Yd(e))throw e;ge(oc,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}})}Yu(e){let n=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,cc("INTERNAL UNHANDLED ERROR: ",ac(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=n,n}enqueueAfterDelay(e,n,i){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);let o=ts.createAndSchedule(this,e,n,i,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&ie(47125,{ec:ac(this.Ku)})}verifyOperationInProgress(){}tc(){return T(this,null,function*(){let e;do e=this.Hu,yield e;while(e!==this.Hu)})}nc(e){for(let n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){let n=this.Uu.indexOf(e);this.Uu.splice(n,1)}};function ac(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}var ns=class extends cr{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new ur,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return T(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new ur(e),this._firestoreClient=void 0,yield e}})}};function Cc(r,e){let n=typeof r=="object"?r:$e(),i=typeof r=="string"?r:e||Xi,o=yt(n,"firestore").getImmediate({identifier:i});if(!o._initialized){let u=Ln("firestore");u&&Pc(o,...u)}return o}var Qg=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(o){an=o})(vt),re(new $("firestore",(i,{instanceIdentifier:o,options:u})=>{let d=i.getProvider("app").getImmediate(),v=new ns(new Wi(i.getProvider("auth-internal")),new Hi(d,i.getProvider("app-check-internal")),function(w,b){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new z(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zi(w.options.projectId,b)}(d,o),d);return u=Object.assign({useFetchStreams:n},u),v._setSettings(u),v},"PUBLIC").setMultipleInstances(!0)),V(Xa,Za,e),V(Xa,Za,"esm2017")})();var cn=class{constructor(e){return e}},kc="firestore",is=class{constructor(){return qe(kc)}};var ss=new mt("angularfire2.firestore-instances");function Ef(r,e){let n=Et(kc,r,e);return n&&new cn(n)}function wf(r){return(e,n)=>{let i=e.runOutsideAngular(()=>r(n));return new cn(i)}}var Tf={provide:is,deps:[[new te,ss]]},Af={provide:cn,useFactory:Ef,deps:[[new te,ss],Oe]};function Dc(r,...e){return V("angularfire",De.full,"fst"),gt([Af,Tf,{provide:ss,useFactory:wf(r),multi:!0,deps:[se,Ue,Ne,it,[new te,Tt],[new te,wt],...e]}])}var Nc=ze(Cc,!0);var Vc="functions";var os=class{constructor(e,n,i,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,pe(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||n.get().then(u=>this.auth=u,()=>{}),this.messaging||i.get().then(u=>this.messaging=u,()=>{}),this.appCheck||o?.get().then(u=>this.appCheck=u,()=>{})}getAuthToken(){return T(this,null,function*(){if(this.auth)try{let e=yield this.auth.getToken();return e?.accessToken}catch{return}})}getMessagingToken(){return T(this,null,function*(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return yield this.messaging.getToken()}catch{return}})}getAppCheckToken(e){return T(this,null,function*(){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){let n=e?yield this.appCheck.getLimitedUseToken():yield this.appCheck.getToken();return n.error?null:n.token}return null})}getContext(e){return T(this,null,function*(){let n=yield this.getAuthToken(),i=yield this.getMessagingToken(),o=yield this.getAppCheckToken(e);return{authToken:n,messagingToken:i,appCheckToken:o}})}};var as="us-central1";var cs=class{constructor(e,n,i,o,u=as,d=(...v)=>fetch(...v)){this.app=e,this.fetchImpl=d,this.emulatorOrigin=null,this.contextProvider=new os(e,n,i,o),this.cancelAllRequests=new Promise(v=>{this.deleteService=()=>Promise.resolve(v())});try{let v=new URL(u);this.customDomain=v.origin+(v.pathname==="/"?"":v.pathname),this.region=as}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(e){let n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}};function bf(r,e,n){r.emulatorOrigin=`http://${e}:${n}`}var Oc="@firebase/functions",xc="0.12.3";var Sf="auth-internal",Rf="app-check-internal",Pf="messaging-internal";function Cf(r){let e=(n,{instanceIdentifier:i})=>{let o=n.getProvider("app").getImmediate(),u=n.getProvider(Sf),d=n.getProvider(Pf),v=n.getProvider(Rf);return new cs(o,u,d,v,i)};re(new $(Vc,e,"PUBLIC").setMultipleInstances(!0)),V(Oc,xc,r),V(Oc,xc,"esm2017")}function Mc(r=$e(),e=as){let i=yt(_e(r),Vc).getImmediate({identifier:e}),o=Ln("functions");return o&&Lc(i,...o),i}function Lc(r,e,n){bf(_e(r),e,n)}Cf();var un=class{constructor(e){return e}},Fc="functions",us=class{constructor(){return qe(Fc)}};var ls=new mt("angularfire2.functions-instances");function kf(r,e){let n=Et(Fc,r,e);return n&&new un(n)}function Df(r){return(e,n)=>{let i=e.runOutsideAngular(()=>r(n));return new un(i)}}var Nf={provide:us,deps:[[new te,ls]]},Of={provide:un,useFactory:kf,deps:[[new te,ls],Oe]};function Uc(r,...e){return V("angularfire",De.full,"fn"),gt([Of,Nf,{provide:ls,useFactory:Df(r),multi:!0,deps:[se,Ue,Ne,it,[new te,Tt],[new te,wt],...e]}])}var Bc=ze(Mc,!0);var $c=[{path:"",loadChildren:()=>import("./chunk-SPBVNTA2.js").then(r=>r.LandingModule)},{path:"create",loadChildren:()=>import("./chunk-5VAEALDX.js").then(r=>r.CreateContractModule)},{path:"my-contracts",loadChildren:()=>import("./chunk-WUNLI5TP.js").then(r=>r.MyContractsModule)},{path:"**",redirectTo:""}];var lr=class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=On({type:r});static \u0275inj=Cn({imports:[Yr.forRoot($c),Yr]})};var hr=class r{constructor(e){this.ngZone=e;this.initializeWalletState()}_userAddress=new Rn(null);_isConnecting=new Rn(!1);_isMetaMaskInstalled=new Rn(!1);accountsChangedSubscription;userAddress$=this._userAddress.asObservable();isConnecting$=this._isConnecting.asObservable();isMetaMaskInstalled$=this._isMetaMaskInstalled.asObservable();isConnected$=this._userAddress.pipe(Wr(e=>!!e));avatarSrc$=this.isConnected$.pipe(Wr(e=>e?"assets/images/lobito.png":"assets/avatar-placeholder.jpg"));initializeWalletState(){typeof window.ethereum<"u"?(this._isMetaMaskInstalled.next(!0),console.log("WalletService: MetaMask est\xE1 instalado."),this.checkExistingConnection(),this.accountsChangedSubscription=e=>{this.ngZone.run(()=>{let n=e.length>0?e[0]:null;n!==this._userAddress.getValue()&&(this._userAddress.next(n),console.log("WalletService: Cuenta cambiada a:",n))})},window.ethereum.on("accountsChanged",this.accountsChangedSubscription)):(this._isMetaMaskInstalled.next(!1),console.log("WalletService: MetaMask no est\xE1 instalado."))}checkExistingConnection(){return T(this,null,function*(){if(this._isMetaMaskInstalled.getValue())try{let e=yield window.ethereum.request({method:"eth_accounts"});e&&e.length>0&&!this._userAddress.getValue()&&this.ngZone.run(()=>{this._userAddress.next(e[0]),console.log("WalletService: Conexi\xF3n existente encontrada:",e[0])})}catch(e){console.error("WalletService: Error verificando conexi\xF3n existente:",e)}})}connectWallet(){return T(this,null,function*(){if(!this._isMetaMaskInstalled.getValue()){alert("Por favor, instala MetaMask.");return}if(this._userAddress.getValue()){console.log("WalletService: Ya est\xE1s conectado con:",this._userAddress.getValue());return}this._isConnecting.next(!0);try{let e=yield window.ethereum.request({method:"eth_requestAccounts"});e&&e.length>0&&this.ngZone.run(()=>{this._userAddress.next(e[0]),console.log("WalletService: Wallet conectada:",e[0])})}catch(e){console.error("WalletService: Error al conectar wallet:",e),this.ngZone.run(()=>{e.code===4001?alert("Rechazaste la conexi\xF3n de la billetera."):alert(`Ocurri\xF3 un error al conectar: ${e.message||e}`)})}finally{this.ngZone.run(()=>{this._isConnecting.next(!1)})}})}disconnectWallet(){this._userAddress.getValue()?(console.log("WalletService: Clearing local wallet state for address:",this._userAddress.getValue()),this._userAddress.next(null)):console.log("WalletService: disconnectWallet called but no address was stored.")}ngOnDestroy(){window.ethereum&&this.accountsChangedSubscription&&(window.ethereum.removeListener("accountsChanged",this.accountsChangedSubscription),console.log("WalletService: Listener de accountsChanged removido."))}getCurrentAddress(){return this._userAddress.getValue()}static \u0275fac=function(n){return new(n||r)(mo(se))};static \u0275prov=Pn({token:r,factory:r.\u0275fac,providedIn:"root"})};function Lf(r,e){r&1&&(oe(0,"span"),Ce(1,"Conectando..."),ae())}function Ff(r,e){r&1&&(oe(0,"span"),Ce(1,"Conectarse"),ae())}function Uf(r,e){r&1&&(oe(0,"span"),Ce(1,"Instalar MetaMask"),ae())}function Bf(r,e){if(r&1){let n=Hr();Eo(0),oe(1,"button",12),he(2,"async"),he(3,"async"),Qr("click",function(){Gr(n);let o=_t();return Kr(o.connect())}),Ze(4,Lf,2,0,"span",13),he(5,"async"),Ze(6,Ff,2,0,"span",13),he(7,"async"),he(8,"async"),Ze(9,Uf,2,0,"span",13),he(10,"async"),he(11,"async"),ae(),xn(12,"img",14),wo()}if(r&2){let n=_t();Re(),Pe("disabled",de(2,4,n.isConnecting$)||!de(3,6,n.isMetaMaskInstalled$)),Re(3),Pe("ngIf",de(5,8,n.isConnecting$)),Re(2),Pe("ngIf",!de(7,10,n.isConnecting$)&&de(8,12,n.isMetaMaskInstalled$)),Re(3),Pe("ngIf",!de(10,14,n.isConnecting$)&&!de(11,16,n.isMetaMaskInstalled$))}}function $f(r,e){if(r&1){let n=Hr();oe(0,"div",16)(1,"span",17),Ce(2),ae(),oe(3,"img",18),he(4,"async"),Qr("click",function(){Gr(n);let o=_t(2);return Kr(o.logout())}),ae()()}if(r&2){let n=e.ngIf,i=_t(2);Re(),Pe("title",n),Re(),Ao(i.getDisplayAddress(n)),Re(),Pe("src",de(4,3,i.avatarSrc$),vo)}}function qf(r,e){if(r&1&&(Ze(0,$f,5,5,"div",15),he(1,"async")),r&2){let n=_t();Pe("ngIf",de(1,1,n.userAddress$))}}var dr=class r{constructor(e){this.walletService=e;this.userAddress$=this.walletService.userAddress$,this.isConnected$=this.walletService.isConnected$,this.isConnecting$=this.walletService.isConnecting$,this.isMetaMaskInstalled$=this.walletService.isMetaMaskInstalled$,this.avatarSrc$=this.walletService.avatarSrc$}userAddress$;isConnected$;isConnecting$;isMetaMaskInstalled$;avatarSrc$;ngOnInit(){}connect(){this.walletService.connectWallet()}getDisplayAddress(e){return e?`${e.substring(0,6)}...${e.substring(e.length-4)}`:null}logout(){console.log("HeaderComponent: Logout action triggered."),this.walletService.disconnectWallet()}static \u0275fac=function(n){return new(n||r)(Io(hr))};static \u0275cmp=Nn({type:r,selectors:[["app-header"]],standalone:!1,decls:21,vars:4,consts:[["connectedState",""],[1,"app-header"],[1,"header__inner"],[1,"logo"],["routerLink","/","aria-label","Ir a la p\xE1gina de inicio"],[1,"navigation"],[1,"nav-links"],["routerLink","/inicio","routerLinkActive","active"],["routerLink","/create","routerLinkActive","active"],["routerLink","/my-contracts","routerLinkActive","active"],[1,"actions"],[4,"ngIf","ngIfElse"],["type","button",1,"btn-connect-styled",3,"click","disabled"],[4,"ngIf"],["src","assets/avatar-placeholder.jpg","alt","User Avatar Placeholder",1,"avatar"],["class","user-info",4,"ngIf"],[1,"user-info"],[1,"user-address",3,"title"],["alt","MetaMask Logo - Click para desconectar","title","Desconectar Wallet",1,"avatar","avatar--connected",3,"click","src"]],template:function(n,i){if(n&1&&(oe(0,"header",1)(1,"div",2)(2,"div",3)(3,"a",4),Ce(4," PACTO "),ae()(),oe(5,"nav",5)(6,"ul",6)(7,"li")(8,"a",7),Ce(9,"Inicio"),ae()(),oe(10,"li")(11,"a",8),Ce(12,"Crear Contrato"),ae()(),oe(13,"li")(14,"a",9),Ce(15,"Mis Contratos"),ae()()()(),oe(16,"div",10),Ze(17,Bf,13,18,"ng-container",11),he(18,"async"),Ze(19,qf,2,3,"ng-template",null,0,bo),ae()()()),n&2){let o=To(20);Re(17),Pe("ngIf",!de(18,2,i.isConnected$))("ngIfElse",o)}},dependencies:[Po,Oo,xo,Co],styles:['@font-face{font-family:Oxanium;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/oxanium/v19/RrQQboN_4yJ0JmiMe2zE0YBB.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Oxanium;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/oxanium/v19/RrQQboN_4yJ0JmiMe2LE0Q.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Oxanium;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/oxanium/v19/RrQQboN_4yJ0JmiMe2zE0YBB.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Oxanium;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/oxanium/v19/RrQQboN_4yJ0JmiMe2LE0Q.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.app-header[_ngcontent-%COMP%]{align-items:center;justify-content:space-between;position:absolute;top:0;left:0;width:100%;z-index:100;font-family:Oxanium,sans-serif;color:#fff}.header__inner[_ngcontent-%COMP%]{padding:1rem 2rem;width:100%;box-sizing:border-box;display:flex;align-items:center;justify-content:space-between}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;font-size:36px;color:inherit;text-decoration:none;text-transform:uppercase}.navigation[_ngcontent-%COMP%]{backdrop-filter:blur(-8px);-webkit-backdrop-filter:blur(8px);padding:12px 30px}.nav-links[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center;gap:35px}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Oxanium,sans-serif;font-weight:400;font-size:18px;color:#fff;text-decoration:none;text-transform:uppercase;transition:opacity .3s ease}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{opacity:.75}.actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.btn-connect-styled[_ngcontent-%COMP%]{position:relative;display:inline-block;padding:10px 25px;background:#ad1aaf;color:#fff;border:none;font-family:Oxanium,sans-serif;font-size:18px;cursor:pointer;text-transform:none;transition:opacity .3s ease;overflow:visible;z-index:1}.btn-connect-styled[_ngcontent-%COMP%]:hover{opacity:.85}.btn-connect-styled[_ngcontent-%COMP%]:before, .btn-connect-styled[_ngcontent-%COMP%]:after{content:"";position:absolute;background:#ad1aaf;width:4px;top:-4px;bottom:-4px;border-radius:1px;z-index:-1}.btn-connect-styled[_ngcontent-%COMP%]:before{left:-8px}.btn-connect-styled[_ngcontent-%COMP%]:after{right:-8px}.avatar[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:50%;border:2px solid #ffffff;object-fit:cover;display:block}.actions[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.actions[_ngcontent-%COMP%]   .user-address[_ngcontent-%COMP%]{font-size:.9em;color:#fff}.actions[_ngcontent-%COMP%]   .avatar--connected[_ngcontent-%COMP%]{cursor:pointer;transition:opacity .2s ease-in-out;width:32px;height:32px;border-radius:50%}.actions[_ngcontent-%COMP%]   .avatar--connected[_ngcontent-%COMP%]:hover{opacity:.8}']})};var fr=class r{title="pacto";static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Nn({type:r,selectors:[["app-root"]],standalone:!1,decls:2,vars:0,template:function(n,i){n&1&&xn(0,"app-header")(1,"router-outlet")},dependencies:[No,dr],encapsulation:2})};var qc={firebaseConfig:{apiKey:"AIzaSyBBp57vKYwfMLaP366833bXY9xv7uaiMbY",authDomain:"contractmanagement-430fa.firebaseapp.com",projectId:"contractmanagement-430fa",storageBucket:"contractmanagement-430fa.firebasestorage.app",messagingSenderId:"108955244018",appId:"1:108955244018:web:bb63b791743b053a5d876b",measurementId:"G-5S6H1LQREH"}};var pr=class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=On({type:r,bootstrap:[fr]});static \u0275inj=Cn({providers:[da(()=>fa(qc.firebaseConfig)),Dc(()=>Nc()),Uc(()=>Bc())],imports:[Do,lr,Mo,Vo,Lo]})};ko().bootstrapModule(pr,{ngZoneEventCoalescing:!0}).catch(r=>console.error(r));
